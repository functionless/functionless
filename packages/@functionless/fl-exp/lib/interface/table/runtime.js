"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVudGltZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9pbnRlcmZhY2UvdGFibGUvcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSnNvbkZvcm1hdCB9IGZyb20gXCJ0eXBlc2FmZS1keW5hbW9kYlwiO1xuaW1wb3J0IHtcbiAgQmF0Y2hHZXRJdGVtLFxuICBCYXRjaEdldEl0ZW1JbnB1dCxcbiAgQmF0Y2hHZXRJdGVtT3V0cHV0LFxufSBmcm9tIFwiLi9iYXRjaC1nZXQtaXRlbVwiO1xuaW1wb3J0IHsgQmF0Y2hXcml0ZUl0ZW0sIFB1dFJlcXVlc3QsIERlbGV0ZVJlcXVlc3QgfSBmcm9tIFwiLi9iYXRjaC13cml0ZS1pdGVtXCI7XG5pbXBvcnQge1xuICBEZWxldGVJdGVtLFxuICBEZWxldGVJdGVtUmV0dXJuVmFsdWVzLFxuICBEZWxldGVJdGVtSW5wdXQsXG4gIERlbGV0ZUl0ZW1PdXRwdXQsXG59IGZyb20gXCIuL2RlbGV0ZS1pdGVtXCI7XG5pbXBvcnQgeyBHZXRJdGVtLCBHZXRJdGVtSW5wdXQsIEdldEl0ZW1PdXRwdXQgfSBmcm9tIFwiLi9nZXQtaXRlbVwiO1xuaW1wb3J0IHsgUHV0SXRlbSwgUHV0SXRlbUlucHV0LCBQdXRJdGVtT3V0cHV0IH0gZnJvbSBcIi4vcHV0LWl0ZW1cIjtcbmltcG9ydCB7IFF1ZXJ5IH0gZnJvbSBcIi4vcXVlcnlcIjtcbmltcG9ydCB7IFJldHVyblZhbHVlcyB9IGZyb20gXCIuL3JldHVybi12YWx1ZVwiO1xuaW1wb3J0IHsgU2NhbiB9IGZyb20gXCIuL3NjYW5cIjtcbmltcG9ydCB7IFRyYW5zYWN0R2V0SXRlbXMsIFRyYW5zYWN0R2V0SXRlbSwgR2V0IH0gZnJvbSBcIi4vdHJhbnNhY3QtZ2V0LWl0ZW1cIjtcbmltcG9ydCB7XG4gIFRyYW5zYWN0V3JpdGVJdGVtcyxcbiAgVHJhbnNhY3RXcml0ZUl0ZW1zSW5wdXQsXG4gIFRyYW5zYWN0V3JpdGVJdGVtc091dHB1dCxcbiAgQ29uZGl0aW9uQ2hlY2ssXG4gIFVwZGF0ZSxcbiAgUHV0LFxuICBEZWxldGUsXG59IGZyb20gXCIuL3RyYW5zYWN0LXdyaXRlLWl0ZW1cIjtcbmltcG9ydCB7IFVwZGF0ZUl0ZW0sIFVwZGF0ZUl0ZW1JbnB1dCwgVXBkYXRlSXRlbU91dHB1dCB9IGZyb20gXCIuL3VwZGF0ZS1pdGVtXCI7XG5cbmRlY2xhcmUgY29uc3QgYTogQVdTLkR5bmFtb0RCO1xuXG4vKipcbiAqIFRoZSBSdW50aW1lIEFQSSBmb3IgYSBEeW5hbW9EQiB7QGxpbmsgVGFibGV9LlxuICpcbiAqIEB0cGFyYW0ge0BsaW5rIEl0ZW19IC0gdGhlIHR5cGUgb2YgZGF0YSBpbiB0aGUgRHluYW1vREIgVGFibGVcbiAqIEB0cGFyYW0ge0BsaW5rIFBhcnRpdGlvbktleX0gLSB0aGUgbmFtZSBvZiB0aGUgUGFydGl0aW9uIEtleSBmaWVsZFxuICogQHRwYXJhbSB7QGxpbmsgUmFuZ2VLZXl9IC0gdGhlIG5hbWUgb2YgdGhlIFJhbmdlIEtleSBmaWVsZCBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSB1bmRlZmluZWRcbiAqIEB0cGFyYW0ge0BsaW5rIEZvcm1hdH0gLSB0aGUgZGF0YSBmb3JtYXQgb2YgdGhlIHZhbHVlcyAoe0BsaW5rIEpzb25Gb3JtYXQuQXR0cmlidXRlVmFsdWV9IG9yIHtAbGluayBKc29uRm9ybWF0LkRvY3VtZW50fSlcbiAqL1xuaW50ZXJmYWNlIFRhYmxlUnVudGltZUFwaTxcbiAgSXRlbSBleHRlbmRzIG9iamVjdCxcbiAgUGFydGl0aW9uS2V5IGV4dGVuZHMga2V5b2YgSXRlbSxcbiAgUmFuZ2VLZXkgZXh0ZW5kcyBrZXlvZiBJdGVtIHwgdW5kZWZpbmVkLFxuICBGb3JtYXQgZXh0ZW5kcyBKc29uRm9ybWF0XG4+IHtcbiAgYmF0Y2hHZXQ6IEJhdGNoR2V0SXRlbTxJdGVtLCBQYXJ0aXRpb25LZXksIFJhbmdlS2V5LCBGb3JtYXQ+O1xuICBiYXRjaFdyaXRlOiBCYXRjaFdyaXRlSXRlbTxJdGVtLCBQYXJ0aXRpb25LZXksIFJhbmdlS2V5LCBGb3JtYXQ+O1xuICBkZWxldGU6IERlbGV0ZUl0ZW08SXRlbSwgUGFydGl0aW9uS2V5LCBSYW5nZUtleSwgRm9ybWF0PjtcbiAgZ2V0OiBHZXRJdGVtPEl0ZW0sIFBhcnRpdGlvbktleSwgUmFuZ2VLZXksIEZvcm1hdD47XG4gIHB1dDogUHV0SXRlbTxJdGVtLCBGb3JtYXQ+O1xuICBxdWVyeTogUXVlcnk8SXRlbSwgUGFydGl0aW9uS2V5LCBSYW5nZUtleSwgRm9ybWF0PjtcbiAgc2NhbjogU2NhbjxJdGVtLCBQYXJ0aXRpb25LZXksIFJhbmdlS2V5LCBGb3JtYXQ+O1xuICB0cmFuc2FjdEdldDogVHJhbnNhY3RHZXRJdGVtczxJdGVtLCBQYXJ0aXRpb25LZXksIFJhbmdlS2V5LCBGb3JtYXQ+O1xuICB0cmFuc2FjdFdyaXRlOiBUcmFuc2FjdFdyaXRlSXRlbXM8SXRlbSwgUGFydGl0aW9uS2V5LCBSYW5nZUtleSwgRm9ybWF0PjtcbiAgdXBkYXRlOiBVcGRhdGVJdGVtPEl0ZW0sIFBhcnRpdGlvbktleSwgUmFuZ2VLZXksIEZvcm1hdD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVEb2N1bWVudEFwaTxcbiAgSXRlbSBleHRlbmRzIG9iamVjdCxcbiAgUGFydGl0aW9uS2V5IGV4dGVuZHMga2V5b2YgSXRlbSxcbiAgUmFuZ2VLZXkgZXh0ZW5kcyBrZXlvZiBJdGVtIHwgdW5kZWZpbmVkXG4+IGV4dGVuZHMgVGFibGVSdW50aW1lQXBpPEl0ZW0sIFBhcnRpdGlvbktleSwgUmFuZ2VLZXksIEpzb25Gb3JtYXQuRG9jdW1lbnQ+IHt9XG5cbi8qKlxuICogVGhlIFJ1bnRpbWUgQVBJIGZvciBhIER5bmFtb0RCIHtAbGluayBUYWJsZX0gdXNpbmcgdGhlIERvY3VtZW50IEpTT04gZm9ybWF0LlxuICpcbiAqIEB0cGFyYW0ge0BsaW5rIEl0ZW19IC0gdGhlIHR5cGUgb2YgZGF0YSBpbiB0aGUgRHluYW1vREIgVGFibGVcbiAqIEB0cGFyYW0ge0BsaW5rIFBhcnRpdGlvbktleX0gLSB0aGUgbmFtZSBvZiB0aGUgUGFydGl0aW9uIEtleSBmaWVsZFxuICogQHRwYXJhbSB7QGxpbmsgUmFuZ2VLZXl9IC0gdGhlIG5hbWUgb2YgdGhlIFJhbmdlIEtleSBmaWVsZCBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUYWJsZURvY3VtZW50QXBpPFxuICBJdGVtIGV4dGVuZHMgb2JqZWN0LFxuICBQYXJ0aXRpb25LZXkgZXh0ZW5kcyBrZXlvZiBJdGVtLFxuICBSYW5nZUtleSBleHRlbmRzIGtleW9mIEl0ZW0gfCB1bmRlZmluZWRcbj4gZXh0ZW5kcyBUYWJsZVJ1bnRpbWVBcGk8SXRlbSwgUGFydGl0aW9uS2V5LCBSYW5nZUtleSwgSnNvbkZvcm1hdC5Eb2N1bWVudD4ge1xuICAvKipcbiAgICogVGhlIGBnZXRgIG9wZXJhdGlvbiByZXR1cm5zIGEgc2V0IG9mIGF0dHJpYnV0ZXMgZm9yIHRoZSBpdGVtIHdpdGggdGhlIGdpdmVuXG4gICAqIHByaW1hcnkga2V5LiBJZiB0aGVyZSBpcyBubyBtYXRjaGluZyBpdGVtLCBgZ2V0YCBkb2VzIG5vdCByZXR1cm4gYW55IGRhdGFcbiAgICogYW5kIHRoZXJlIHdpbGwgYmUgbm8gYEl0ZW1gIGVsZW1lbnQgaW4gdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBkZWNsYXJlIGNvbnN0IHRhYmxlOiBUYWJsZTxJdGVtLCBcInBrXCI+XG4gICAqXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUuZ2V0KHtcbiAgICogICBLZXk6IHtcbiAgICogICAgIHBrOiBcImtleVwiXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICpcbiAgICogcmVzcG9uc2UuSXRlbTsgLy8gSXRlbSB8IHVuZGVmaW5lZFxuICAgKiBgYGBcbiAgICpcbiAgICogYGdldGAgcHJvdmlkZXMgYW4gZXZlbnR1YWxseSBjb25zaXN0ZW50IHJlYWQgYnkgZGVmYXVsdC4gSWYgeW91ciBhcHBsaWNhdGlvblxuICAgKiByZXF1aXJlcyBhIHN0cm9uZ2x5IGNvbnNpc3RlbnQgcmVhZCwgc2V0IGBDb25zaXN0ZW50UmVhZGAgdG8gYHRydWVgLiBBbHRob3VnaCBhXG4gICAqIHN0cm9uZ2x5IGNvbnNpc3RlbnQgcmVhZCBtaWdodCB0YWtlIG1vcmUgdGltZSB0aGFuIGFuIGV2ZW50dWFsbHkgY29uc2lzdGVudFxuICAgKiByZWFkLGl0IGFsd2F5cyByZXR1cm5zIHRoZSBsYXN0IHVwZGF0ZWQgdmFsdWUuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLmdldCh7XG4gICAqICAgS2V5OiB7XG4gICAqICAgICBwazogXCJrZXlcIlxuICAgKiAgIH0sXG4gICAqICAgQ29uc2lzdGVudFJlYWQ6IHRydWVcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAc2VlIHtAbGluayBHZXRJdGVtfVxuICAgKiBAc2VlIHtAbGluayBHZXRJdGVtSW5wdXR9XG4gICAqIEBzZWUge0BsaW5rIEdldEl0ZW1PdXRwdXR9XG4gICAqIEBzZWUgW0FXUyBBUEkgUmVmZXJlbmNlXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L0FQSVJlZmVyZW5jZS9BUElfR2V0SXRlbS5odG1sKVxuICAgKi9cbiAgcmVhZG9ubHkgZ2V0OiBHZXRJdGVtPEl0ZW0sIFBhcnRpdGlvbktleSwgUmFuZ2VLZXksIEpzb25Gb3JtYXQuRG9jdW1lbnQ+O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGl0ZW0sIG9yIHJlcGxhY2VzIGFuIG9sZCBpdGVtIHdpdGggYSBuZXcgaXRlbS4gSWYgYW4gaXRlbSB0aGF0XG4gICAqIGhhcyB0aGUgc2FtZSBwcmltYXJ5IGtleSBhcyB0aGUgbmV3IGl0ZW0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIHNwZWNpZmllZCB0YWJsZSxcbiAgICogdGhlIG5ldyBpdGVtIGNvbXBsZXRlbHkgcmVwbGFjZXMgdGhlIGV4aXN0aW5nIGl0ZW0uXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLnB1dCh7XG4gICAqICAgSXRlbTogbmV3SXRlbVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIFlvdSBjYW4gcGVyZm9ybSBhIGNvbmRpdGlvbmFsIHB1dCBvcGVyYXRpb24gKGFkZCBhIG5ldyBpdGVtIGlmIG9uZSB3aXRoIHRoZVxuICAgKiBzcGVjaWZpZWQgcHJpbWFyeSBrZXkgZG9lc24ndCBleGlzdCksIG9yIHJlcGxhY2UgYW4gZXhpc3RpbmcgaXRlbSBpZiBpdCBoYXMgY2VydGFpblxuICAgKiBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5wdXQoe1xuICAgKiAgIEl0ZW06IG5ld0l0ZW0sXG4gICAqICAgQ29uZGl0aW9uRXhwcmVzc2lvbjogXCJhdHRyaWJ1dGUgPSB2YWx1ZVwiXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogWW91IGNhbiByZXR1cm4gdGhlIGl0ZW0ncyBhdHRyaWJ1dGUgdmFsdWVzIGluIHRoZSBzYW1lIG9wZXJhdGlvbiwgdXNpbmcgdGhlXG4gICAqIHtAbGluayBSZXR1cm5WYWx1ZXN9IHBhcmFtZXRlci5cbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUucHV0KHtcbiAgICogICBJdGVtOiBuZXdJdGVtLFxuICAgKiAgIFJldHVyblZhbHVlczogXCJBTExfT0xEXCJcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBXaGVuIHlvdSBhZGQgYW4gaXRlbSwgdGhlIHByaW1hcnkga2V5IGF0dHJpYnV0ZXMgYXJlIHRoZSBvbmx5IHJlcXVpcmVkIGF0dHJpYnV0ZXMuXG4gICAqIEF0dHJpYnV0ZSB2YWx1ZXMgY2Fubm90IGJlIGBudWxsYC4gRW1wdHkgU3RyaW5nIGFuZCBCaW5hcnkgYXR0cmlidXRlIHZhbHVlcyBhcmVcbiAgICogYWxsb3dlZC4gQXR0cmlidXRlIHZhbHVlcyBvZiB0eXBlIFN0cmluZyBhbmQgQmluYXJ5IG11c3QgaGF2ZSBhIGxlbmd0aCBncmVhdGVyIHRoYW5cbiAgICogemVybyBpZiB0aGUgYXR0cmlidXRlIGlzIHVzZWQgYXMgYSBrZXkgYXR0cmlidXRlIGZvciBhIHRhYmxlIG9yIGluZGV4LiBTZXQgdHlwZVxuICAgKiBhdHRyaWJ1dGVzIGNhbm5vdCBiZSBlbXB0eS4gSW52YWxpZCBSZXF1ZXN0cyB3aXRoIGVtcHR5IHZhbHVlcyB3aWxsIGJlIHJlamVjdGVkIHdpdGhcbiAgICogYSBgVmFsaWRhdGlvbkV4Y2VwdGlvbmAgZXhjZXB0aW9uLlxuICAgKlxuICAgKiBUbyBwcmV2ZW50IGEgbmV3IGl0ZW0gZnJvbSByZXBsYWNpbmcgYW4gZXhpc3RpbmcgaXRlbSwgdXNlIGEgY29uZGl0aW9uYWwgZXhwcmVzc2lvblxuICAgKiB0aGF0IGNvbnRhaW5zIHRoZSBgYXR0cmlidXRlX25vdF9leGlzdHNgIGZ1bmN0aW9uIHdpdGggdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSBiZWluZ1xuICAgKiB1c2VkIGFzIHRoZSBwYXJ0aXRpb24ga2V5IGZvciB0aGUgdGFibGUuIFNpbmNlIGV2ZXJ5IHJlY29yZCBtdXN0IGNvbnRhaW4gdGhhdCBhdHRyaWJ1dGUsXG4gICAqIHRoZSBhdHRyaWJ1dGVfbm90X2V4aXN0cyBmdW5jdGlvbiB3aWxsIG9ubHkgc3VjY2VlZCBpZiBubyBtYXRjaGluZyBpdGVtIGV4aXN0cy5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUucHV0KHtcbiAgICogICBJdGVtOiBuZXdJdGVtLFxuICAgKiAgIC8vIGVuc3VyZSB0aGUgaXRlbSBkb2Vzbid0IGFscmVhZHkgZXhpc3RcbiAgICogICBDb25kaXRpb25FeHByZXNzaW9uOiBcImF0dHJpYnV0ZV9ub3RfZXhpc3RzKHBrKVwiXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHNlZSB7QGxpbmsgUHV0SXRlbX1cbiAgICogQHNlZSB7QGxpbmsgUHV0SXRlbUlucHV0fVxuICAgKiBAc2VlIHtAbGluayBQdXRJdGVtT3V0cHV0fVxuICAgKiBAc2VlIFtQdXRJdGVtIEFQSSBSZWZlcmVuY2VdKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvQVBJUmVmZXJlbmNlL0FQSV9QdXRJdGVtLmh0bWwpXG4gICAqIEBzZWUgW0NvbmRpdGlvbiBFeHByZXNzaW9ucyBEb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L2RldmVsb3Blcmd1aWRlL0V4cHJlc3Npb25zLkNvbmRpdGlvbkV4cHJlc3Npb25zLmh0bWwpXG4gICAqL1xuICByZWFkb25seSBwdXQ6IFB1dEl0ZW08SXRlbSwgSnNvbkZvcm1hdC5Eb2N1bWVudD47XG5cbiAgLyoqXG4gICAqIEVkaXRzIGFuIGV4aXN0aW5nIGl0ZW0ncyBhdHRyaWJ1dGVzLCBvciBhZGRzIGEgbmV3IGl0ZW0gdG8gdGhlIHRhYmxlIGlmIGl0IGRvZXMgbm90XG4gICAqIGFscmVhZHkgZXhpc3QuIFlvdSBjYW4gcHV0LCBkZWxldGUsIG9yIGFkZCBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS51cGRhdGUoe1xuICAgKiAgIEtleToga2V5LFxuICAgKiAgIFVwZGF0ZUV4cHJlc3Npb246IFwiU0VUIGF0dHJpYnV0ZSA9IDx2YWw+XCJcbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIE5vdCBhbGwgbmFtZXMgYW5kIHZhbHVlcyBhcmUgc3VwcG9ydGVkIGluIGFuIGBVcGRhdGVFeHByZXNzaW9uYCwgc3VjaCBhcyByZXNlcnZlZFxuICAgKiB3b3Jkcywga2V5cyB3aXRoIGNvbXBsZXggbmFtZXMgYW5kIGNvbXBsZXggdmFsdWVzLiBUbyBhbGlhcyBuYW1lcywgc3BlY2lmeSBpdCBpbiB0aGVcbiAgICogYEV4cHJlc3Npb25BdHRyaWJ1dGVOYW1lc2AgbWFwIHdpdGggYSBuYW1lIHByZWZpeGVkIGJ5IGEgYCNgLiBUaGVuLCB1c2UgdGhlIGFsaWFzXG4gICAqIGluIHlvdXIgYFVwZGF0ZUV4cHJlc3Npb25gXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLnVwZGF0ZSh7XG4gICAqICAgS2V5OiBrZXksXG4gICAqICAgVXBkYXRlRXhwcmVzc2lvbjogXCJTRVQgI2F0dHJpYnV0ZSA9IDx2YWw+XCIsXG4gICAqICAgRXhwcmVzc2lvbkF0dHJpYnV0ZU5hbWVzOiB7XG4gICAqICAgICBcIiNhdHRyaWJ1dGVcIjogXCJzcGVjaWFsIG5hbWVcIlxuICAgKiAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIFNpbWlsYXJseSwgdG8gYWxpYXMgYSB2YWx1ZSBmb3IgdXNlIGluIGFuIGBVcGRhdGVFeHByZXNzaW9uYCwgcHJvdmlkZSAgdmFsdWUgaW4gdGhlXG4gICAqIGBFeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzYCBtYXAgcHJlZml4ZWQgd2l0aCBgOmAuIFRoZW4sIHVzZSB0aGUgYWxpYXMgaW4geW91clxuICAgKiBgVXBkYXRlRXhwcmVzc2lvbmAuXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLnVwZGF0ZSh7XG4gICAqICAgS2V5OiBrZXksXG4gICAqICAgVXBkYXRlRXhwcmVzc2lvbjogXCJTRVQgYXR0cmlidXRlID0gOnZhbFwiLFxuICAgKiAgIEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXM6IHtcbiAgICogICAgIFwiOnZhbFwiOiBcIm15IHZhbHVlXCJcbiAgICogICB9XG4gICAqIH0pXG4gICAqIGBgYFxuICAgKlxuICAgKiBZb3UgY2FuIGFsc28gcGVyZm9ybSBhIGNvbmRpdGlvbmFsIHVwZGF0ZSBvbiBhbiBleGlzdGluZyBpdGVtIChpbnNlcnQgYSBuZXcgYXR0cmlidXRlXG4gICAqIG5hbWUtdmFsdWUgcGFpciBpZiBpdCBkb2Vzbid0IGV4aXN0LCBvciByZXBsYWNlIGFuIGV4aXN0aW5nIG5hbWUtdmFsdWUgcGFpciBpZiBpdCBoYXNcbiAgICogY2VydGFpbiBleHBlY3RlZCBhdHRyaWJ1dGUgdmFsdWVzKS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUudXBkYXRlKHtcbiAgICogICBLZXk6IGtleSxcbiAgICogICBVcGRhdGVFeHByZXNzaW9uOiBcIlNFVCBhdHRyaWJ1dGUgPSA8bmV3LXZhbD5cIixcbiAgICogICBDb25kaXRpb25FeHByZXNzaW9uOiBcImF0dHJpYnV0ZSA9IDxvbGQtdmFsPlwiXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKlxuICAgKiBZb3UgY2FuIGFsc28gcmV0dXJuIHRoZSBpdGVtJ3MgYXR0cmlidXRlIHZhbHVlcyBpbiB0aGUgc2FtZSBgdXBkYXRlYCBvcGVyYXRpb24gdXNpbmdcbiAgICogdGhlIHtAbGluayBSZXR1cm5WYWx1ZXN9IHBhcmFtZXRlci5cbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWJsZS51cGRhdGUoe1xuICAgKiAgIEtleToga2V5LFxuICAgKiAgIFVwZGF0ZUV4cHJlc3Npb246IFwiU0VUIGF0dHJpYnV0ZSA9IDxuZXctdmFsPlwiLFxuICAgKiAgIFJldHVyblZhbHVlczogXCJBTExfT0xEXCJcbiAgICogfSk7XG4gICAqXG4gICAqIHJlc3BvbnNlLkF0dHJpYnV0ZXM7IC8vIGF0dHJpYnV0ZXMgb2YgdGhlIG9sZCBpdGVtIChpdHMgc3RhdGUgcHJpb3IgdG8gdGhpcyBgdXBkYXRlYCByZXF1ZXN0KS5cbiAgICogYGBgXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIFVwZGF0ZUl0ZW19XG4gICAqIEBzZWUge0BsaW5rIFVwZGF0ZUl0ZW1JbnB1dH1cbiAgICogQHNlZSB7QGxpbmsgVXBkYXRlSXRlbU91dHB1dH1cbiAgICogQHNlZSBbVXBkYXRlIEV4cHJlc3Npb25zIERvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvZGV2ZWxvcGVyZ3VpZGUvRXhwcmVzc2lvbnMuVXBkYXRlRXhwcmVzc2lvbnMuaHRtbClcbiAgICogQHNlZSBbQ29uZGl0aW9uIEV4cHJlc3Npb25zIERvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvZGV2ZWxvcGVyZ3VpZGUvRXhwcmVzc2lvbnMuQ29uZGl0aW9uRXhwcmVzc2lvbnMuaHRtbClcbiAgICogQHNlZSBbVXBkYXRlSXRlbSBBUEkgUmVmZXJlbmNlXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L0FQSVJlZmVyZW5jZS9BUElfVXBkYXRlSXRlbS5odG1sKVxuICAgKi9cbiAgcmVhZG9ubHkgdXBkYXRlOiBVcGRhdGVJdGVtPFxuICAgIEl0ZW0sXG4gICAgUGFydGl0aW9uS2V5LFxuICAgIFJhbmdlS2V5LFxuICAgIEpzb25Gb3JtYXQuRG9jdW1lbnRcbiAgPjtcblxuICAvKipcbiAgICogRGVsZXRlcyBhIHNpbmdsZSBpdGVtIGluIGEgdGFibGUgYnkgcHJpbWFyeSBrZXkuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLmRlbGV0ZSh7XG4gICAqICAgS2V5OiB7XG4gICAqICAgICBwazogXCJwYXJ0aXRpb24ga2V5XCJcbiAgICogICB9XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogWW91IGNhbiBwZXJmb3JtIGEgY29uZGl0aW9uYWwgZGVsZXRlIG9wZXJhdGlvbiB0aGF0IGRlbGV0ZXMgdGhlIGl0ZW0gaWYgaXQgaGFzIGFuIGV4cGVjdGVkXG4gICAqIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUuZGVsZXRlKHtcbiAgICogICBLZXk6IGtleSxcbiAgICogICBDb25kaXRpb25FeHByZXNzaW9uOiBcImF0dHJpYnV0ZSA9IDx2YWw+XCJcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBOb3QgYWxsIG5hbWVzIGFuZCB2YWx1ZXMgYXJlIHN1cHBvcnRlZCBpbiBhIGBDb25kaXRpb25FeHByZXNzaW9uYCwgc3VjaCBhcyByZXNlcnZlZFxuICAgKiB3b3Jkcywga2V5cyB3aXRoIGNvbXBsZXggbmFtZXMgYW5kIGNvbXBsZXggdmFsdWVzLiBUbyBhbGlhcyBuYW1lcywgc3BlY2lmeSBpdCBpbiB0aGVcbiAgICogYEV4cHJlc3Npb25BdHRyaWJ1dGVOYW1lc2AgbWFwIHdpdGggYSBuYW1lIHByZWZpeGVkIGJ5IGEgYCNgLiBUaGVuLCB1c2UgdGhlIGFsaWFzXG4gICAqIGluIHlvdXIgYENvbmRpdGlvbkV4cHJlc3Npb25gXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLmRlbGV0ZSh7XG4gICAqICAgS2V5OiBrZXksXG4gICAqICAgQ29uZGl0aW9uRXhwcmVzc2lvbjogXCIkYXR0cmlidXRlID0gPHZhbD5cIixcbiAgICogICBFeHByZXNzaW9uQXR0cmlidXRlTmFtZXM6IHtcbiAgICogICAgIFwiI2F0dHJpYnV0ZVwiOiBcInNwZWNpYWwgbmFtZVwiXG4gICAqICAgfVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICpcbiAgICogU2ltaWxhcmx5LCB0byBhbGlhcyBhIHZhbHVlIGZvciB1c2UgaW4gYW4gYENvbmRpdGlvbkV4cHJlc3Npb25gLCBwcm92aWRlICB2YWx1ZSBpbiB0aGVcbiAgICogYEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXNgIG1hcCBwcmVmaXhlZCB3aXRoIGA6YC4gVGhlbiwgdXNlIHRoZSBhbGlhcyBpbiB5b3VyXG4gICAqIGBDb25kaXRpb25FeHByZXNzaW9uYC5cbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUuZGVsZXRlKHtcbiAgICogICBLZXk6IGtleSxcbiAgICogICBDb25kaXRpb25FeHByZXNzaW9uOiBcImF0dHJpYnV0ZSA9IDp2YWxcIixcbiAgICogICBFeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzOiB7XG4gICAqICAgICBcIjp2YWxcIjogXCJteSB2YWx1ZVwiXG4gICAqICAgfVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICpcbiAgICogSW4gYWRkaXRpb24gdG8gZGVsZXRpbmcgYW4gaXRlbSwgeW91IGNhbiBhbHNvIHJldHVybiB0aGUgaXRlbSdzIGF0dHJpYnV0ZSB2YWx1ZXMgaW4gdGhlIHNhbWVcbiAgICogb3BlcmF0aW9uLCB1c2luZyB0aGUgYFJldHVyblZhbHVlc2AgcGFyYW1ldGVyLiBVbmxlc3MgeW91IHNwZWNpZnkgY29uZGl0aW9ucywgdGhlIERlbGV0ZUl0ZW0gaXNcbiAgICogYW4gaWRlbXBvdGVudCBvcGVyYXRpb247IHJ1bm5pbmcgaXQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgaXRlbSBvciBhdHRyaWJ1dGUgZG9lcyBub3RcbiAgICogcmVzdWx0IGluIGFuIGVycm9yIHJlc3BvbnNlLiBDb25kaXRpb25hbCBkZWxldGVzIGFyZSB1c2VmdWwgZm9yIGRlbGV0aW5nIGl0ZW1zIG9ubHkgaWYgc3BlY2lmaWNcbiAgICogY29uZGl0aW9ucyBhcmUgbWV0LiBJZiB0aG9zZSBjb25kaXRpb25zIGFyZSBtZXQsIER5bmFtb0RCIHBlcmZvcm1zIHRoZSBkZWxldGUuIE90aGVyd2lzZSwgdGhlXG4gICAqIGl0ZW0gaXMgbm90IGRlbGV0ZWQuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIERlbGV0ZUl0ZW19XG4gICAqIEBzZWUge0BsaW5rIERlbGV0ZUl0ZW1JbnB1dH1cbiAgICogQHNlZSB7QGxpbmsgRGVsZXRlSXRlbU91dHB1dH1cbiAgICogQHNlZSB7QGxpbmsgRGVsZXRlSXRlbVJldHVyblZhbHVlc31cbiAgICogQHNlZSBbQ29uZGl0aW9uIEV4cHJlc3Npb25zIERvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvZGV2ZWxvcGVyZ3VpZGUvRXhwcmVzc2lvbnMuQ29uZGl0aW9uRXhwcmVzc2lvbnMuaHRtbClcbiAgICogQHNlZSBbRGVsZXRlSXRlbSBBUEkgUmVmZXJlbmNlXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L0FQSVJlZmVyZW5jZS9BUElfRGVsZXRlSXRlbS5odG1sKVxuICAgKi9cbiAgcmVhZG9ubHkgZGVsZXRlOiBEZWxldGVJdGVtPFxuICAgIEl0ZW0sXG4gICAgUGFydGl0aW9uS2V5LFxuICAgIFJhbmdlS2V5LFxuICAgIEpzb25Gb3JtYXQuRG9jdW1lbnRcbiAgPjtcblxuICAvKipcbiAgICogYHF1ZXJ5YCByZXR1cm5zIGFsbCBpdGVtcyB0aGF0IGNvbnRhaW4gYSBwYXJ0aXRpb24ga2V5IHZhbHVlLiBVc2UgdGhlIGBLZXlDb25kaXRpb25FeHByZXNzaW9uYFxuICAgKiBwYXJhbWV0ZXIgdG8gcHJvdmlkZSBhIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgcGFydGl0aW9uIGtleS4gVGhlIGBxdWVyeWAgb3BlcmF0aW9uIHdpbGwgcmV0dXJuXG4gICAqIGFsbCBvZiB0aGUgaXRlbXMgZnJvbSB0aGUgdGFibGUgb3IgaW5kZXggd2l0aCB0aGF0IHBhcnRpdGlvbiBrZXkgdmFsdWUuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLnF1ZXJ5KHtcbiAgICogICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiBcInBrID0gOnBrXCIsXG4gICAqICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlczoge1xuICAgKiAgICAgXCI6cGtcIjogXCJwYXJ0aXRpb24ga2V5XCJcbiAgICogICB9XG4gICAqIH0pXG4gICAqIGBgYFxuICAgKlxuICAgKiBZb3UgY2FuIG9wdGlvbmFsbHkgbmFycm93IHRoZSBzY29wZSBvZiB0aGUgYHF1ZXJ5YCBvcGVyYXRpb24gYnkgc3BlY2lmeWluZyBhIHNvcnQga2V5IHZhbHVlXG4gICAqIGFuZCBhIGNvbXBhcmlzb24gb3BlcmF0b3IgaW4gYEtleUNvbmRpdGlvbkV4cHJlc3Npb25gLlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5xdWVyeSh7XG4gICAqICAgS2V5Q29uZGl0aW9uRXhwcmVzc2lvbjogXCJwayA9IDpwayBBTkQgc3RhcnRzX3dpdGgoc2ssIDpwcmVmaXgpXCIsXG4gICAqICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlczoge1xuICAgKiAgICAgXCI6cGtcIjogXCJwYXJ0aXRpb24ga2V5XCIsXG4gICAqICAgICBcIjpwcmVmaXhcIjogXCJwcmVmaXhcIlxuICAgKiAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIFRvIGZ1cnRoZXIgcmVmaW5lIHRoZSBgcXVlcnlgIHJlc3VsdHMsIHlvdSBjYW4gb3B0aW9uYWxseSBwcm92aWRlIGEgYEZpbHRlckV4cHJlc3Npb25gLiBBIGBGaWx0ZXJFeHByZXNzaW9uYFxuICAgKiBkZXRlcm1pbmVzIHdoaWNoIGl0ZW1zIHdpdGhpbiB0aGUgcmVzdWx0cyBzaG91bGQgYmUgcmV0dXJuZWQgdG8geW91LiBBbGwgb2YgdGhlIG90aGVyIHJlc3VsdHMgYXJlXG4gICAqIGRpc2NhcmRlZC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUucXVlcnkoe1xuICAgKiAgIEtleUNvbmRpdGlvbkV4cHJlc3Npb246IFwicGsgPSA6cGsgQU5EIHN0YXJ0c193aXRoKHNrLCA6cHJlZml4KVwiLFxuICAgKiAgIEZpbHRlckV4cHJlc3Npb246IFwiZmllbGQgPCAwXCJcbiAgICogICAuLlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIGBRdWVyeWAgcmVzdWx0cyBhcmUgYWx3YXlzIHNvcnRlZCBieSB0aGUgc29ydCBrZXkgdmFsdWUuIElmIHRoZSBkYXRhIHR5cGUgb2YgdGhlIHNvcnQga2V5IGlzIGBOdW1iZXJgLCB0aGVcbiAgICogcmVzdWx0cyBhcmUgcmV0dXJuZWQgaW4gbnVtZXJpYyBvcmRlcjsgb3RoZXJ3aXNlLCB0aGUgcmVzdWx0cyBhcmUgcmV0dXJuZWQgaW4gb3JkZXIgb2YgVVRGLTggYnl0ZXMuIEJ5XG4gICAqIGRlZmF1bHQsIHRoZSBzb3J0IG9yZGVyIGlzIGFzY2VuZGluZy4gVG8gcmV2ZXJzZSB0aGUgb3JkZXIsIHNldCB0aGUgYFNjYW5JbmRleEZvcndhcmRgIHBhcmFtZXRlciB0byBmYWxzZS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUucXVlcnkoe1xuICAgKiAgIEtleUNvbmRpdGlvbkV4cHJlc3Npb246IFwicGsgPSA6cGtcIixcbiAgICogICAvLyBxdWVyeSBpbiByZXZlcnNlLW9yZGVyXG4gICAqICAgU2NhbkluZGV4Rm9yd2FyZDogZmFsc2VcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBBIHNpbmdsZSBgUXVlcnlgIG9wZXJhdGlvbiB3aWxsIHJlYWQgdXAgdG8gdGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHNldCAoaWYgdXNpbmcgdGhlIGBMaW1pdGAgcGFyYW1ldGVyKVxuICAgKiBvciBhIG1heGltdW0gb2YgKioxIE1CKiogb2YgZGF0YSBhbmQgdGhlbiBhcHBseSBhbnkgZmlsdGVyaW5nIHRvIHRoZSByZXN1bHRzIHVzaW5nIGBGaWx0ZXJFeHByZXNzaW9uYC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUucXVlcnkoe1xuICAgKiAgIC4uLFxuICAgKiAgIExpbWl0OiAxMFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIElmIGBMYXN0RXZhbHVhdGVkS2V5YCBpcyBwcmVzZW50IGluIHRoZSByZXNwb25zZSwgeW91IHdpbGwgbmVlZCB0byBwYWdpbmF0ZSB0aGUgcmVzdWx0IHNldCBieVxuICAgKiBzZXR0aW5nIHRoZSBgRXhjbHVzaXZlU3RhcnRLZXlgIGluIHN1YnNlcXVlbnQgcmVxdWVzdHMuXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IEtleUNvbmRpdGlvbkV4cHJlc3Npb246IHN0cmluZyA9IC4uXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUucXVlcnkoe1xuICAgKiAgIEtleUNvbmRpdGlvbkV4cHJlc3Npb25cbiAgICogfSk7XG4gICAqIGlmIChyZXNwb25zZS5MYXN0RXZhbHVhdGVkS2V5KSB7XG4gICAqICAgYXdhaXQgdGFibGUucXVlcnkoe1xuICAgKiAgICAgLy8gdGhlIEtleUNvbmRpdGlvbkV4cHJlc3Npb24gbXVzdCBiZSB0aGUgc2FtZSBhY3Jvc3MgcXVlcnkgcmVxdWVzdHNcbiAgICogICAgIEtleUNvbmRpdGlvbkV4cHJlc3Npb24sXG4gICAqICAgICAvLyB1c2UgdGhlIExhc3RFdmFsdWF0ZWRLZXkgYXMgdGhlIHN0YXJ0aW5nIHBvaW50XG4gICAqICAgICBFeGNsdXNpdmVTdGFydEtleTogcmVzcG9uc2UuTGFzdEV2YWx1YXRlZEtleVxuICAgKiAgIH0pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBgRmlsdGVyRXhwcmVzc2lvbmAgaXMgYXBwbGllZCBhZnRlciBhIGBRdWVyeWAgZmluaXNoZXMsIGJ1dCBiZWZvcmUgdGhlIHJlc3VsdHMgYXJlIHJldHVybmVkLlxuICAgKiBBIGBGaWx0ZXJFeHByZXNzaW9uYCBjYW5ub3QgY29udGFpbiBwYXJ0aXRpb24ga2V5IG9yIHNvcnQga2V5IGF0dHJpYnV0ZXMuIFlvdSBuZWVkIHRvIHNwZWNpZnlcbiAgICogdGhvc2UgYXR0cmlidXRlcyBpbiB0aGUgYEtleUNvbmRpdGlvbkV4cHJlc3Npb25gLlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhYmxlLnF1ZXJ5KHtcbiAgICogICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiAuLixcbiAgICogICBGaWx0ZXJFeHByZXNzaW9uOiBcIiNmaWVsZCA9IDp2YWxcIlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEEgYFF1ZXJ5YCBvcGVyYXRpb24gY2FuIHJldHVybiBhbiBlbXB0eSByZXN1bHQgc2V0IGFuZCBhIGBMYXN0RXZhbHVhdGVkS2V5YCBpZiBhbGwgdGhlIGl0ZW1zXG4gICAqIHJlYWQgZm9yIHRoZSBwYWdlIG9mIHJlc3VsdHMgYXJlIGZpbHRlcmVkIG91dC5cbiAgICpcbiAgICogWW91IGNhbiBxdWVyeSBhIHRhYmxlLCBhIGxvY2FsIHNlY29uZGFyeSBpbmRleCwgb3IgYSBnbG9iYWwgc2Vjb25kYXJ5IGluZGV4LiBGb3IgYSBxdWVyeSBvbiBhIHRhYmxlIG9yIG9uXG4gICAqIGEgbG9jYWwgc2Vjb25kYXJ5IGluZGV4LCB5b3UgY2FuIHNldCB0aGUgYENvbnNpc3RlbnRSZWFkYCBwYXJhbWV0ZXIgdG8gdHJ1ZSBhbmQgb2J0YWluIGEgc3Ryb25nbHkgY29uc2lzdGVudFxuICAgKiByZXN1bHQuIEdsb2JhbCBzZWNvbmRhcnkgaW5kZXhlcyBzdXBwb3J0IGV2ZW50dWFsbHkgY29uc2lzdGVudCByZWFkcyBvbmx5LCBzbyBkbyBub3Qgc3BlY2lmeSBgQ29uc2lzdGVudFJlYWRgXG4gICAqIHdoZW4gcXVlcnlpbmcgYSBnbG9iYWwgc2Vjb25kYXJ5IGluZGV4LlxuICAgKlxuICAgKiBBIGBxdWVyeWAgb3BlcmF0aW9uIGFsd2F5cyByZXR1cm5zIGEgcmVzdWx0IHNldC4gSWYgbm8gbWF0Y2hpbmcgaXRlbXMgYXJlIGZvdW5kLCB0aGUgcmVzdWx0IHNldCB3aWxsIGJlXG4gICAqIGVtcHR5LiBRdWVyaWVzIHRoYXQgZG8gbm90IHJldHVybiByZXN1bHRzIGNvbnN1bWUgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHJlYWQgY2FwYWNpdHkgdW5pdHMgZm9yIHRoYXRcbiAgICogdHlwZSBvZiByZWFkIG9wZXJhdGlvbi4gRHluYW1vREIgY2FsY3VsYXRlcyB0aGUgbnVtYmVyIG9mIHJlYWQgY2FwYWNpdHkgdW5pdHMgY29uc3VtZWQgYmFzZWQgb24gaXRlbVxuICAgKiBzaXplLCBub3Qgb24gdGhlIGFtb3VudCBvZiBkYXRhIHRoYXQgaXMgcmV0dXJuZWQgdG8gYW4gYXBwbGljYXRpb24uIFRoZSBudW1iZXIgb2YgY2FwYWNpdHkgdW5pdHMgY29uc3VtZWRcbiAgICogd2lsbCBiZSB0aGUgc2FtZSB3aGV0aGVyIHlvdSByZXF1ZXN0IGFsbCBvZiB0aGUgYXR0cmlidXRlcyAodGhlIGRlZmF1bHQgYmVoYXZpb3IpIG9yIGp1c3Qgc29tZSBvZlxuICAgKiB0aGVtICh1c2luZyBhIHByb2plY3Rpb24gZXhwcmVzc2lvbikuIFRoZSBudW1iZXIgd2lsbCBhbHNvIGJlIHRoZSBzYW1lIHdoZXRoZXIgb3Igbm90IHlvdSB1c2UgYVxuICAgKiBgRmlsdGVyRXhwcmVzc2lvbmAuXG4gICAqL1xuICByZWFkb25seSBxdWVyeTogUXVlcnk8SXRlbSwgUGFydGl0aW9uS2V5LCBSYW5nZUtleSwgSnNvbkZvcm1hdC5Eb2N1bWVudD47XG5cbiAgLyoqXG4gICAqIFRoZSBgc2NhbmAgb3BlcmF0aW9uIHJldHVybnMgb25lIG9yIG1vcmUgaXRlbXMgYW5kIGl0ZW0gYXR0cmlidXRlcyBieSBhY2Nlc3NpbmcgZXZlcnkgaXRlbSBpblxuICAgKiB0YWJsZSBvciBhIHNlY29uZGFyeSBpbmRleC5cbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWJsZS5zY2FuKCk7XG4gICAqXG4gICAqIHJlc3BvbnNlLkl0ZW1zIC8vIEl0ZW1bXSB8IHVuZGVmaW5lZDtcbiAgICogYGBgXG4gICAqXG4gICAqIFRvIGhhdmUgRHluYW1vREIgcmV0dXJuIGZld2VyIGl0ZW1zLCB5b3UgY2FuIHByb3ZpZGUgYSBgRmlsdGVyRXhwcmVzc2lvbmAgb3BlcmF0aW9uLlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5zY2FuKHtcbiAgICogICBGaWx0ZXJFeHByZXNzaW9uOiBcIiNmaWVsZCA9IDp2YWxcIlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIElmIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2Nhbm5lZCBpdGVtcyBleGNlZWRzIHRoZSBtYXhpbXVtIGRhdGFzZXQgc2l6ZSBsaW1pdCBvZiAqKjEgTUIqKixcbiAgICogdGhlIHNjYW4gc3RvcHMgYW5kIHJlc3VsdHMgYXJlIHJldHVybmVkIHRvIHRoZSB1c2VyIGFsb25nIHdpdGggYSBgTGFzdEV2YWx1YXRlZEtleWAgdmFsdWUgdG9cbiAgICogY29udGludWUgdGhlIHNjYW4gaW4gYSBzdWJzZXF1ZW50IG9wZXJhdGlvbi4gVGhlIHJlc3VsdHMgYWxzbyBpbmNsdWRlIHRoZSBudW1iZXIgb2ZcbiAgICogaXRlbXMgZXhjZWVkaW5nIHRoZSBsaW1pdC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWJsZS5zY2FuKCk7XG4gICAqXG4gICAqIGlmIChyZXNwb25zZS5MYXN0RXZhbHVhdGVkS2V5KSB7XG4gICAqICAgYXdhaXQgdGFibGUuc2Nhbih7XG4gICAqICAgICBFeGNsdXNpdmVTdGFydEtleTogcmVzcG9uc2UuTGFzdEV2YWx1YXRlZEtleVxuICAgKiAgIH0pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBBIHNpbmdsZSBgc2NhbmAgb3BlcmF0aW9uIHJlYWRzIHVwIHRvIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyBzZXQgKGlmIHVzaW5nIHRoZSBMaW1pdFxuICAgKiBwYXJhbWV0ZXIpIG9yIGEgbWF4aW11bSBvZiAxIE1CIG9mIGRhdGEgYW5kIHRoZW4gYXBwbHkgYW55IGZpbHRlcmluZyB0byB0aGUgcmVzdWx0cyB1c2luZ1xuICAgKiBgRmlsdGVyRXhwcmVzc2lvbmAuIElmIGBMYXN0RXZhbHVhdGVkS2V5YCBpcyBwcmVzZW50IGluIHRoZSByZXNwb25zZSwgeW91IG5lZWQgdG8gcGFnaW5hdGUgdGhlXG4gICAqIHJlc3VsdCBzZXQuXG4gICAqXG4gICAqIGBzY2FuYCBvcGVyYXRpb25zIHByb2NlZWQgc2VxdWVudGlhbGx5OyBob3dldmVyLCBmb3IgZmFzdGVyIHBlcmZvcm1hbmNlIG9uIGEgbGFyZ2UgdGFibGUgb3JcbiAgICogc2Vjb25kYXJ5IGluZGV4LCBhcHBsaWNhdGlvbnMgY2FuIHJlcXVlc3QgYSBwYXJhbGxlbCBgc2NhbmAgb3BlcmF0aW9uIGJ5IHByb3ZpZGluZyB0aGUgYFNlZ21lbnRgXG4gICAqIGFuZCBgVG90YWxTZWdtZW50c2AgcGFyYW1ldGVycy5cbiAgICpcbiAgICogYHNjYW5gIHVzZXMgZXZlbnR1YWxseSBjb25zaXN0ZW50IHJlYWRzIHdoZW4gYWNjZXNzaW5nIHRoZSBkYXRhIGluIGEgdGFibGU7IHRoZXJlZm9yZSwgdGhlIHJlc3VsdFxuICAgKiBzZXQgbWlnaHQgbm90IGluY2x1ZGUgdGhlIGNoYW5nZXMgdG8gZGF0YSBpbiB0aGUgdGFibGUgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBvcGVyYXRpb24gYmVnYW4uXG4gICAqIElmIHlvdSBuZWVkIGEgY29uc2lzdGVudCBjb3B5IG9mIHRoZSBkYXRhLCBhcyBvZiB0aGUgdGltZSB0aGF0IHRoZSBgc2NhbmAgYmVnaW5zLCB5b3UgY2FuIHNldCB0aGVcbiAgICogYENvbnNpc3RlbnRSZWFkYCBwYXJhbWV0ZXIgdG8gdHJ1ZS5cbiAgICovXG4gIHJlYWRvbmx5IHNjYW46IFNjYW48SXRlbSwgUGFydGl0aW9uS2V5LCBSYW5nZUtleSwgSnNvbkZvcm1hdC5Eb2N1bWVudD47XG5cbiAgLyoqXG4gICAqIFRoZSBgYmF0Y2hHZXRgIG9wZXJhdGlvbiByZXR1cm5zIGEgbGlzdCBvZiBpdGVtcyBmb3IgZWFjaCBvZiB0aGUgZ2l2ZW4gcHJpbWFyeVxuICAgKiBrZXlzLiBJZiB0aGVyZSBhcmUgbm8gbWF0Y2hpbmcgaXRlbXMsIGJvdGggdGhlIGBJdGVtc2AgYW5kIGBVbnByb2Nlc3NlZEtleXNgIHByb3BlcnRpZXNcbiAgICogd2lsbCBiZSBlbXB0eSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUuYmF0Y2hHZXQoe1xuICAgKiAgIEtleXM6IFtcbiAgICogICAgIHtcbiAgICogICAgICAgcGs6IFwicGtcIixcbiAgICogICAgICAgc2s6IFwic2tcIixcbiAgICogICAgIH0sXG4gICAqICAgICB7XG4gICAqICAgICAgIC4uXG4gICAqICAgICB9XG4gICAqICAgXSxcbiAgICogfSk7XG4gICAqXG4gICAqIHJlc3BvbnNlLkl0ZW1zOyAvLyBJdGVtW11cbiAgICogYGBgXG4gICAqXG4gICAqIEEgcmVxdWVzdCBjYW4gaGF2ZSBwYXJ0aWFsIGZhaWx1cmVzIHdoZXJlIHNvbWUgb2YgdGhlIHJlcXVlc3RlZCBrZXlzIGFyZSBub3RcbiAgICogcmV0cmlldmVkIHN1Y2Nlc3NmdWxseS4gVGhlIGZhaWxlZCBrZXlzIGFyZSBhdmFpbGFibGUgb24gdGhlIGBVbnByb2Nlc3NlZEtleXNgXG4gICAqIHByb3BlcnR5IGFuZCBzaG91bGQgYmUgcmV0cmllZCBieSB0aGUgY2FsbGVyLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhYmxlLmJhdGNoR2V0KHsgLi4gfSlcbiAgICpcbiAgICogaWYgKHJlc3BvbnNlLlVucHJvY2Vzc2VkS2V5cykge1xuICAgKiAgIC8vIHJldHJ5IHRoZSBmYWlsZWQga2V5c1xuICAgKiAgIGNvbnN0IHJldHJ5UmVzcG9uc2UgPSBhd2FpdCB0YWJsZS5iYXRjaEdldCh7XG4gICAqICAgICBLZXlzOiByZXNwb25zZS5VbnByb2Nlc3NlZEtleXNcbiAgICogICB9KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHNlZSB7QGxpbmsgQmF0Y2hHZXRJdGVtfVxuICAgKiBAc2VlIHtAbGluayBCYXRjaEdldEl0ZW1JbnB1dH1cbiAgICogQHNlZSB7QGxpbmsgQmF0Y2hHZXRJdGVtT3V0cHV0fVxuICAgKiBAc2VlIFtCYXRjaEdldEl0ZW0gQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FtYXpvbmR5bmFtb2RiL2xhdGVzdC9BUElSZWZlcmVuY2UvQVBJX0JhdGNoR2V0SXRlbS5odG1sKVxuICAgKi9cbiAgcmVhZG9ubHkgYmF0Y2hHZXQ6IEJhdGNoR2V0SXRlbTxcbiAgICBJdGVtLFxuICAgIFBhcnRpdGlvbktleSxcbiAgICBSYW5nZUtleSxcbiAgICBKc29uRm9ybWF0LkRvY3VtZW50XG4gID47XG5cbiAgLyoqXG4gICAqIFRoZSBgYmF0Y2hXcml0ZWAgb3BlcmF0aW9uIHB1dHMgb3IgZGVsZXRlcyBtdWx0aXBsZSBpdGVtcyBpbiBvbmUgb3IgbW9yZSB0YWJsZXMuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGxldCBiYXRjaFdyaXRlID0gYXdhaXQgdGFibGUuYmF0Y2hXcml0ZSh7XG4gICAqICAgUmVxdWVzdEl0ZW1zOiBbXG4gICAqICAgICB7XG4gICAqICAgICAgIERlbGV0ZVJlcXVlc3Q6IHtcbiAgICogICAgICAgICBLZXk6IHtcbiAgICogICAgICAgICAgIHBrOiBcInBhcnRpdGlvbiBrZXkgMVwiLFxuICAgKiAgICAgICAgIH0sXG4gICAqICAgICAgIH0sXG4gICAqICAgICB9LFxuICAgKiAgICAge1xuICAgKiAgICAgICBQdXRSZXF1ZXN0OiB7XG4gICAqICAgICAgICAgSXRlbToge1xuICAgKiAgICAgICAgICAgcGs6IFwicGFydGl0aW9uIGtleSAyXCIsXG4gICAqICAgICAgICAgICAuLiAvLyByZXN0IG9mIHRoZSBpdGVtXG4gICAqICAgICAgICAgfSxcbiAgICogICAgICAgfSxcbiAgICogICAgIH0sXG4gICAqICAgXSxcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBBIHNpbmdsZSBjYWxsIHRvIGBiYXRjaFdyaXRlYCBjYW4gdHJhbnNtaXQgdXAgdG8gMTZNQiBvZiBkYXRhIG92ZXIgdGhlIG5ldHdvcmssIGNvbnNpc3RpbmdcbiAgICogb2YgdXAgdG8gMjUgaXRlbSBwdXQgb3IgZGVsZXRlIG9wZXJhdGlvbnMuIFdoaWxlIGluZGl2aWR1YWwgaXRlbXMgY2FuIGJlIHVwIHRvIDQwMCBLQiBvbmNlIHN0b3JlZCxcbiAgICogaXQncyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGFuIGl0ZW0ncyByZXByZXNlbnRhdGlvbiBtaWdodCBiZSBncmVhdGVyIHRoYW4gNDAwS0Igd2hpbGUgYmVpbmdcbiAgICogc2VudCBpbiBEeW5hbW9EQidzIEpTT04gZm9ybWF0IGZvciB0aGUgQVBJIGNhbGwuIEZvciBtb3JlIGRldGFpbHMgb24gdGhpcyBkaXN0aW5jdGlvbiwgc2VlXG4gICAqIFtOYW1pbmcgUnVsZXMgYW5kIERhdGEgVHlwZXNdKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvZGV2ZWxvcGVyZ3VpZGUvSG93SXRXb3Jrcy5OYW1pbmdSdWxlc0RhdGFUeXBlcy5odG1sKS5cbiAgICpcbiAgICogYGJhdGNoV3JpdGVgIGNhbm5vdCB1cGRhdGUgaXRlbXMuIFRvIHVwZGF0ZSBpdGVtcywgdXNlIHRoZSB7QGxpbmsgdXBkYXRlfSBhY3Rpb24uXG4gICAqXG4gICAqIFRoZSBpbmRpdmlkdWFsIHtAbGluayBwdXR9IGFuZCB7QGxpbmsgZGVsZXRlfSBvcGVyYXRpb25zIHNwZWNpZmllZCBpbiBgYmF0Y2hXcml0ZWAgYXJlIGF0b21pYztcbiAgICogaG93ZXZlciBgYmF0Y2hXcml0ZWAgYXMgYSB3aG9sZSBpcyBub3QuIElmIGFueSByZXF1ZXN0ZWQgb3BlcmF0aW9ucyBmYWlsIGJlY2F1c2UgdGhlIHRhYmxlJ3NcbiAgICogcHJvdmlzaW9uZWQgdGhyb3VnaHB1dCBpcyBleGNlZWRlZCBvciBhbiBpbnRlcm5hbCBwcm9jZXNzaW5nIGZhaWx1cmUgb2NjdXJzLCB0aGUgZmFpbGVkXG4gICAqIG9wZXJhdGlvbnMgYXJlIHJldHVybmVkIGluIHRoZSBgVW5wcm9jZXNzZWRJdGVtc2AgcmVzcG9uc2UgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhYmxlLmJhdGNoV3JpdGUoLi4pO1xuICAgKlxuICAgKiByZXNwb25zZS5VbnByb2Nlc3NlZEl0ZW1zOyAvLyBpdGVtcyB0aGF0IGZhaWxlZCB0byBwcm9jZXNzIHdpbGwgYmUgYXZhaWxhYmxlIGhlcmVcbiAgICogYGBgXG4gICAqXG4gICAqXG4gICAqIFlvdSBjYW4gaW52ZXN0aWdhdGUgYW5kIG9wdGlvbmFsbHkgcmVzZW5kIHRoZSByZXF1ZXN0cy4gVHlwaWNhbGx5LCB5b3Ugd291bGQgY2FsbCBgYmF0Y2hXcml0ZWBcbiAgICogaW4gYSBsb29wLiBFYWNoIGl0ZXJhdGlvbiB3b3VsZCBjaGVjayBmb3IgdW5wcm9jZXNzZWQgaXRlbXMgYW5kIHN1Ym1pdCBhIG5ldyBgYmF0Y2hXcml0ZWBcbiAgICogcmVxdWVzdCB3aXRoIHRob3NlIHVucHJvY2Vzc2VkIGl0ZW1zIHVudGlsIGFsbCBpdGVtcyBoYXZlIGJlZW4gcHJvY2Vzc2VkLlxuICAgKiBgYGB0c1xuICAgKiBsZXQgd3JpdGVJdGVtcztcbiAgICogZG8ge1xuICAgKiAgIHdyaXRlSXRlbXMgPSBhd2FpdCB0YWJsZS5iYXRjaFdyaXRlKC4uKTtcbiAgICogfSB3aGlsZSAod3JpdGVJdGVtcz8uVW5wcm9jZXNzZWRJdGVtcz8ubGVuZ3RoKTtcbiAgICogYGBgXG4gICAqXG4gICAqIElmIG5vbmUgb2YgdGhlIGl0ZW1zIGNhbiBiZSBwcm9jZXNzZWQgZHVlIHRvIGluc3VmZmljaWVudCBwcm92aXNpb25lZCB0aHJvdWdocHV0XG4gICAqIG9uIGFsbCBvZiB0aGUgdGFibGVzIGluIHRoZSByZXF1ZXN0LCB0aGVuIGBiYXRjaFdyaXRlYCB0aHJvd3MgYSBgUHJvdmlzaW9uZWRUaHJvdWdocHV0RXhjZWVkZWRFeGNlcHRpb25gLlxuICAgKiBgYGB0c1xuICAgKiB0cnkge1xuICAgKiAgIGF3YWl0IHRhYmxlLmJhdGNoV3JpdGUoLi4pO1xuICAgKiB9IGNhdGNoIChlcnIpIHtcbiAgICogICBpZiAoZXJyLmNvZGUgPT09IFwiUHJvdmlzaW9uZWRUaHJvdWdocHV0RXhjZWVkZWRFeGNlcHRpb25cIikge1xuICAgKiAgICAgLy8gaGFuZGxlXG4gICAqICAgfVxuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBIb3dldmVyLCB3ZSBzdHJvbmdseSByZWNvbW1lbmQgdGhhdCB5b3UgdXNlIGFuIGV4cG9uZW50aWFsIGJhY2tvZmYgYWxnb3JpdGhtLiBJZiB5b3UgcmV0cnkgdGhlXG4gICAqIGJhdGNoIG9wZXJhdGlvbiBpbW1lZGlhdGVseSwgdGhlIHVuZGVybHlpbmcgcmVhZCBvciB3cml0ZSByZXF1ZXN0cyBjYW4gc3RpbGwgZmFpbCBkdWUgdG9cbiAgICogdGhyb3R0bGluZyBvbiB0aGUgaW5kaXZpZHVhbCB0YWJsZXMuIElmIHlvdSBkZWxheSB0aGUgYmF0Y2ggb3BlcmF0aW9uIHVzaW5nIGV4cG9uZW50aWFsIGJhY2tvZmYsXG4gICAqIHRoZSBpbmRpdmlkdWFsIHJlcXVlc3RzIGluIHRoZSBiYXRjaCBhcmUgbXVjaCBtb3JlIGxpa2VseSB0byBzdWNjZWVkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbixcbiAgICogc2VlIFtCYXRjaCBPcGVyYXRpb25zIGFuZCBFcnJvciBIYW5kbGluZ10oaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FtYXpvbmR5bmFtb2RiL2xhdGVzdC9kZXZlbG9wZXJndWlkZS9Qcm9ncmFtbWluZy5FcnJvcnMuaHRtbCNQcm9ncmFtbWluZy5FcnJvcnMuQmF0Y2hPcGVyYXRpb25zKS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogbGV0IHdyaXRlSXRlbXM7XG4gICAqIGxldCBiYWNrb2ZmID0gMTAwO1xuICAgKiBsZXQgbWF4UmV0cmllcyA9IDEwO1xuICAgKiBsZXQgYXR0ZW1wdCA9IDA7XG4gICAqIHdoaWxlIChhdHRlbXB0IDwgbWF4UmV0cmllcykge1xuICAgKiAgIHdyaXRlSXRlbXMgPSBhd2FpdCB0YWJsZS5iYXRjaFdyaXRlKC4uKTtcbiAgICogICBpZiAoIXdyaXRlSXRlbXMuVW5wcm9jZXNzZWRJdGVtcz8ubGVuZ3RoKSB7XG4gICAqICAgICBicmVhaztcbiAgICogICB9XG4gICAqICAgYXR0ZW1wdCArPSAxO1xuICAgKiAgIGlmIChhdHRlbXB0ID4gbWF4UmV0cmllcykge1xuICAgKiAgICAgLy8gZG9uJ3QgcmV0cnkgZm9yZXZlciwgZmFpbCBhZnRlciBzbyBtYW55IGF0dGVtcHRzXG4gICAqICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWRcIik7XG4gICAqICAgfVxuICAgKiAgIC8vIHNsZWVwIGZvciBzb21lIHRpbWUgYmVmb3JlIHRyeWluZyBhZ2FpblxuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGJhY2tvZmYpO1xuICAgKiAgIGJhY2tvZmYgKj0gMjsgLy8gZXhwb25lbnRpYWxseSBpbmNyZWFzZXMgYmFja29mZlxuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBXaXRoIGBiYXRjaFdyaXRlYCwgeW91IGNhbiBlZmZpY2llbnRseSB3cml0ZSBvciBkZWxldGUgbGFyZ2UgYW1vdW50cyBvZiBkYXRhLCBzdWNoIGFzIGZyb20gQW1hem9uIEVNUixcbiAgICogb3IgY29weSBkYXRhIGZyb20gYW5vdGhlciBkYXRhYmFzZSBpbnRvIER5bmFtb0RCLiBJbiBvcmRlciB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIHdpdGggdGhlc2UgbGFyZ2Utc2NhbGVcbiAgICogb3BlcmF0aW9ucywgYGJhdGNoV3JpdGVgIGRvZXMgbm90IGJlaGF2ZSBpbiB0aGUgc2FtZSB3YXkgYXMgaW5kaXZpZHVhbCB7QGxpbmsgcHV0fSBhbmQge0BsaW5rIGRlbGV0ZX0gY2FsbHNcbiAgICogd291bGQuIEZvciBleGFtcGxlLCB5b3UgY2Fubm90IHNwZWNpZnkgY29uZGl0aW9ucyBvbiBpbmRpdmlkdWFsIHB1dCBhbmQgZGVsZXRlIHJlcXVlc3RzLCBhbmRcbiAgICogYGJhdGNoV3JpdGVgIGRvZXMgbm90IHJldHVybiBkZWxldGVkIGl0ZW1zIGluIHRoZSByZXNwb25zZS4gYGJhdGNoV3JpdGVgIHBlcmZvcm1zIHRoZSBzcGVjaWZpZWQgcHV0XG4gICAqIGFuZCBkZWxldGUgb3BlcmF0aW9ucyBpbiBwYXJhbGxlbCwgZ2l2aW5nIHlvdSB0aGUgcG93ZXIgb2YgdGhlIHRocmVhZCBwb29sIGFwcHJvYWNoIHdpdGhvdXQgaGF2aW5nIHRvXG4gICAqIGludHJvZHVjZSBjb21wbGV4aXR5IGludG8geW91ciBhcHBsaWNhdGlvbi4gUGFyYWxsZWwgcHJvY2Vzc2luZyByZWR1Y2VzIGxhdGVuY3ksIGJ1dCBlYWNoIHNwZWNpZmllZCBwdXRcbiAgICogYW5kIGRlbGV0ZSByZXF1ZXN0IGNvbnN1bWVzIHRoZSBzYW1lIG51bWJlciBvZiB3cml0ZSBjYXBhY2l0eSB1bml0cyB3aGV0aGVyIGl0IGlzIHByb2Nlc3NlZCBpbiBwYXJhbGxlbFxuICAgKiBvciBub3QuIERlbGV0ZSBvcGVyYXRpb25zIG9uIG5vbmV4aXN0ZW50IGl0ZW1zIGNvbnN1bWUgb25lIHdyaXRlIGNhcGFjaXR5IHVuaXQuXG4gICAqXG4gICAqIElmIG9uZSBvciBtb3JlIG9mIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZSwgRHluYW1vREIgcmVqZWN0cyB0aGUgZW50aXJlIGJhdGNoIHdyaXRlIG9wZXJhdGlvbjpcbiAgICogKiBPbmUgb3IgbW9yZSB0YWJsZXMgc3BlY2lmaWVkIGluIHRoZSBgYmF0Y2hXcml0ZWAgcmVxdWVzdCBkb2VzIG5vdCBleGlzdC5cbiAgICogKiBQcmltYXJ5IGtleSBhdHRyaWJ1dGVzIHNwZWNpZmllZCBvbiBhbiBpdGVtIGluIHRoZSByZXF1ZXN0IGRvIG5vdCBtYXRjaCB0aG9zZSBpbiB0aGUgY29ycmVzcG9uZGluZyB0YWJsZSdzIHByaW1hcnkga2V5IHNjaGVtYS5cbiAgICogKiBZb3UgdHJ5IHRvIHBlcmZvcm0gbXVsdGlwbGUgb3BlcmF0aW9ucyBvbiB0aGUgc2FtZSBpdGVtIGluIHRoZSBzYW1lIGBiYXRjaFdyaXRlYCByZXF1ZXN0LiBGb3IgZXhhbXBsZSwgeW91IGNhbm5vdCBwdXQgYW5kIGRlbGV0ZSB0aGUgc2FtZSBpdGVtXG4gICAqIGluIHRoZSBzYW1lIGBiYXRjaFdyaXRlYCByZXF1ZXN0LlxuICAgKiAqIFlvdXIgcmVxdWVzdCBjb250YWlucyBhdCBsZWFzdCB0d28gaXRlbXMgd2l0aCBpZGVudGljYWwgaGFzaCBhbmQgcmFuZ2Uga2V5cyAod2hpY2ggZXNzZW50aWFsbHkgaXMgdHdvIHB1dCBvcGVyYXRpb25zKS5cbiAgICogKiBUaGVyZSBhcmUgbW9yZSB0aGFuIDI1IHJlcXVlc3RzIGluIHRoZSBiYXRjaC5cbiAgICogKiBBbnkgaW5kaXZpZHVhbCBpdGVtIGluIGEgYmF0Y2ggZXhjZWVkcyA0MDAgS0IuIFRoZSB0b3RhbCByZXF1ZXN0IHNpemUgZXhjZWVkcyAxNiBNQi5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgRGVsZXRlUmVxdWVzdH1cbiAgICogQHNlZSB7QGxpbmsgUHV0UmVxdWVzdH1cbiAgICogQHNlZSB7QGxpbmsgQmF0Y2hXcml0ZUl0ZW19XG4gICAqIEBzZWUgW0JhdGNoV3JpdGVJdGVtIEFQSV0oaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FtYXpvbmR5bmFtb2RiL2xhdGVzdC9BUElSZWZlcmVuY2UvQVBJX0JhdGNoV3JpdGVJdGVtLmh0bWwpXG4gICAqL1xuICByZWFkb25seSBiYXRjaFdyaXRlOiBCYXRjaFdyaXRlSXRlbTxcbiAgICBJdGVtLFxuICAgIFBhcnRpdGlvbktleSxcbiAgICBSYW5nZUtleSxcbiAgICBKc29uRm9ybWF0LkRvY3VtZW50XG4gID47XG5cbiAgLyoqXG4gICAqIGB0cmFuc2FjdEdldGAgaXMgYSBzeW5jaHJvbm91cyBvcGVyYXRpb24gdGhhdCBhdG9taWNhbGx5IHJldHJpZXZlcyBtdWx0aXBsZSBpdGVtc1xuICAgKiBmcm9tIGEgdGFibGUuIEEgYHRyYW5zYWN0R2V0YCBjYWxsIGNhbiBjb250YWluIHVwIHRvIGAyNWAge0BsaW5rIFRyYW5zYWN0R2V0SXRlbX0gb2JqZWN0cyxcbiAgICogZWFjaCBvZiB3aGljaCBjb250YWlucyBhIHtAbGluayBHZXR9IHN0cnVjdHVyZSB0aGF0IHNwZWNpZmllcyBhbiBpdGVtIHRvIHJldHJpZXZlIGZyb20gdGhlXG4gICAqIHRhYmxlLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhYmxlLnRyYW5zYWN0R2V0KHtcbiAgICogICBUcmFuc2FjdEl0ZW1zOiBbXG4gICAqICAgICB7XG4gICAqICAgICAgIEdldDoge1xuICAgKiAgICAgICAgIEtleToge1xuICAgKiAgICAgICAgICAgcGs6IFwicGFydGl0aW9uIGtleVwiLFxuICAgKiAgICAgICAgICAgc2s6IFwic29ydCBrZXlcIixcbiAgICogICAgICAgICB9LFxuICAgKiAgICAgICB9LFxuICAgKiAgICAgfSxcbiAgICogICAgIC4uLlxuICAgKiAgIF0sXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogVW5saWtlIHRoZSB7QGxpbmsgYmF0Y2hHZXR9IG9wZXJhdGlvbiB3aGVyZSBzb21lIHJlcXVlc3RlZCBrZXlzIGNhbiBmYWlsLCBgdHJhbnNhY3RHZXRgXG4gICAqIGVuc3VyZXMgdGhhdCBhbGwgKG9yIG5vbmUpIHtAbGluayBHZXR9IHJlcXVlc3RzIGFyZSBzdWNjZXNzZnVsbHkgcmV0cmlldmVkIC0gaS5lLiB0aGVcbiAgICogd2hvbGUgb3BlcmF0aW9uIGhhcHBlbnMgd2l0aGluIGEgc2luZ2xlIHRyYW5zYWN0aW9uLiBUaGlzIGNvbWVzIHdpdGggdGhlIGFkZGVkIGNvc3Qgb2ZcbiAgICogZWFjaCB7QGxpbmsgR2V0fSByZXF1ZXN0IGNvbnN1bWluZyAyIFJlYWQgQ2FwYWNpdHkgVW5pdHMuXG4gICAqXG4gICAqIFRoZSBhZ2dyZWdhdGUgc2l6ZSBvZiB0aGUgaXRlbXMgaW4gdGhlIHRyYW5zYWN0aW9uIGNhbm5vdCBleGNlZWQgKio0IE1CKiouIER5bmFtb0RCIHJlamVjdHNcbiAgICogdGhlIGVudGlyZSBgdHJhbnNhY3RHZXRgIHJlcXVlc3QgaWYgYW55IG9mIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICogKiBBIGNvbmZsaWN0aW5nIG9wZXJhdGlvbiBpcyBpbiB0aGUgcHJvY2VzcyBvZiB1cGRhdGluZyBhbiBpdGVtIHRvIGJlIHJlYWQuXG4gICAqICogVGhlcmUgaXMgaW5zdWZmaWNpZW50IHByb3Zpc2lvbmVkIGNhcGFjaXR5IGZvciB0aGUgdHJhbnNhY3Rpb24gdG8gYmUgY29tcGxldGVkLlxuICAgKiAqIFRoZXJlIGlzIGEgdXNlciBlcnJvciwgc3VjaCBhcyBhbiBpbnZhbGlkIGRhdGEgZm9ybWF0LlxuICAgKiAqIFRoZSBhZ2dyZWdhdGUgc2l6ZSBvZiB0aGUgaXRlbXMgaW4gdGhlIHRyYW5zYWN0aW9uIGNhbm5vdCBleGNlZWQgNCBNQi5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgVHJhbnNhY3RHZXRJdGVtc31cbiAgICogQHNlZSB7QGxpbmsgVHJhbnNhY3RHZXRJdGVtc0lucHV0fVxuICAgKiBAc2VlIHtAbGluayBUcmFuc2FjdEdldEl0ZW1zT3V0cHV0fVxuICAgKiBAc2VlIHtAbGluayBHZXR9XG4gICAqIEBzZWUgW1RyYW5zYWN0R2V0SXRlbXMgQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FtYXpvbmR5bmFtb2RiL2xhdGVzdC9BUElSZWZlcmVuY2UvQVBJX1RyYW5zYWN0R2V0SXRlbXMuaHRtbClcbiAgICovXG4gIHJlYWRvbmx5IHRyYW5zYWN0R2V0OiBUcmFuc2FjdEdldEl0ZW1zPFxuICAgIEl0ZW0sXG4gICAgUGFydGl0aW9uS2V5LFxuICAgIFJhbmdlS2V5LFxuICAgIEpzb25Gb3JtYXQuRG9jdW1lbnRcbiAgPjtcblxuICAvKipcbiAgICogVHJhbnNhY3RXcml0ZUl0ZW1zIGlzIGEgc3luY2hyb25vdXMgd3JpdGUgb3BlcmF0aW9uIHRoYXQgZ3JvdXBzIHVwIHRvICoqMjUqKiBhY3Rpb25cbiAgICogcmVxdWVzdHMuIE5vIHR3byBhY3Rpb25zIGNhbiB0YXJnZXQgdGhlIHNhbWUgaXRlbS4gRm9yIGV4YW1wbGUsIHlvdSBjYW5ub3QgYm90aFxuICAgKiB7QGxpbmsgQ29uZGl0aW9uQ2hlY2t9IGFuZCB7QGxpbmsgVXBkYXRlfSB0aGUgc2FtZSBpdGVtLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS50cmFuc2FjdFdyaXRlKHtcbiAgICogICBUcmFuc2FjdEl0ZW1zOiBbXG4gICAqICAgICB7XG4gICAqICAgICAgIFB1dDoge1xuICAgKiAgICAgICAgIEl0ZW06IGl0ZW0xLFxuICAgKiAgICAgICB9LFxuICAgKiAgICAgfSxcbiAgICogICAgIHtcbiAgICogICAgICAgVXBkYXRlOiB7XG4gICAqICAgICAgICAgS2V5OiBrZXkxLFxuICAgKiAgICAgICAgIFVwZGF0ZUV4cHJlc3Npb246IFwiU0VUIC4uXCJcbiAgICogICAgICAgfSxcbiAgICogICAgIH0sXG4gICAqICAgICB7XG4gICAqICAgICAgIERlbGV0ZToge1xuICAgKiAgICAgICAgIEtleToga2V5MlxuICAgKiAgICAgICB9XG4gICAqICAgICB9LFxuICAgKiAgICAge1xuICAgKiAgICAgICBDb25kaXRpb25DaGVjazoge1xuICAgKiAgICAgICAgIEtleToga2V5MyxcbiAgICogICAgICAgICBDb25kaXRpb25FeHByZXNzaW9uOiBcIi4uXCJcbiAgICogICAgICAgfVxuICAgKiAgICAgfVxuICAgKiAgIF0sXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogVW5saWtlIHtAbGluayBiYXRjaFdyaXRlfSwgdGhlIGFjdGlvbnMgYXJlIGNvbXBsZXRlZCBhdG9taWNhbGx5IHNvIHRoYXQgZWl0aGVyIGFsbFxuICAgKiBvZiB0aGVtIHN1Y2NlZWQsIG9yIGFsbCBvZiB0aGVtIGZhaWwuIFN1cHBvcnRlZCBhY3Rpb25zIGluY2x1ZGU6XG4gICAqICoge0BsaW5rIFB1dH3CoOKAlCBJbml0aWF0ZXMgYSBgUHV0SXRlbWAgb3BlcmF0aW9uIHRvIHdyaXRlIGEgbmV3IGl0ZW0uIFRoaXMgc3RydWN0dXJlXG4gICAqIHNwZWNpZmllcyB0aGUgcHJpbWFyeSBrZXkgb2YgdGhlIGl0ZW0gdG8gYmUgd3JpdHRlbiwgYW4gb3B0aW9uYWwgY29uZGl0aW9uIGV4cHJlc3Npb25cbiAgICogdGhhdCBtdXN0IGJlIHNhdGlzZmllZCBmb3IgdGhlIHdyaXRlIHRvIHN1Y2NlZWQsIGEgbGlzdCBvZiB0aGUgaXRlbSdzIGF0dHJpYnV0ZXMsIGFuZFxuICAgKiBhIGZpZWxkIGluZGljYXRpbmcgd2hldGhlciB0byByZXRyaWV2ZSB0aGUgaXRlbSdzIGF0dHJpYnV0ZXMgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICAgKiAqIHtAbGluayBVcGRhdGV9IOKAlCBJbml0aWF0ZXMgYW4gVXBkYXRlSXRlbSBvcGVyYXRpb24gdG8gdXBkYXRlIGFuIGV4aXN0aW5nIGl0ZW0uIFRoaXNcbiAgICogc3RydWN0dXJlIHNwZWNpZmllcyB0aGUgcHJpbWFyeSBrZXkgb2YgdGhlIGl0ZW0gdG8gYmUgdXBkYXRlZCwgYW4gb3B0aW9uYWwgY29uZGl0aW9uXG4gICAqIGV4cHJlc3Npb24gdGhhdCBtdXN0IGJlIHNhdGlzZmllZCBmb3IgdGhlIHVwZGF0ZSB0byBzdWNjZWVkLCBhbiBleHByZXNzaW9uIHRoYXQgZGVmaW5lc1xuICAgKiBvbmUgb3IgbW9yZSBhdHRyaWJ1dGVzIHRvIGJlIHVwZGF0ZWQsIGFuZCBhIGZpZWxkIGluZGljYXRpbmcgd2hldGhlciB0byByZXRyaWV2ZSB0aGVcbiAgICogaXRlbSdzIGF0dHJpYnV0ZXMgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICAgKiAqIHtAbGluayBEZWxldGV9IOKAlCBJbml0aWF0ZXMgYSBEZWxldGVJdGVtIG9wZXJhdGlvbiB0byBkZWxldGUgYW4gZXhpc3RpbmcgaXRlbS4gVGhpc1xuICAgKiBzdHJ1Y3R1cmUgc3BlY2lmaWVzIHRoZSBwcmltYXJ5IGtleSBvZiB0aGUgaXRlbSB0byBiZSBkZWxldGVkLCBhbiBvcHRpb25hbCBjb25kaXRpb25cbiAgICogZXhwcmVzc2lvbiB0aGF0IG11c3QgYmUgc2F0aXNmaWVkIGZvciB0aGUgZGVsZXRpb24gdG8gc3VjY2VlZCwgYW5kIGEgZmllbGQgaW5kaWNhdGluZ1xuICAgKiB3aGV0aGVyIHRvIHJldHJpZXZlIHRoZSBpdGVtJ3MgYXR0cmlidXRlcyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gICAqIHtAbGluayBDb25kaXRpb25DaGVja30g4oCUIEFwcGxpZXMgYSBjb25kaXRpb24gdG8gYW4gaXRlbSB0aGF0IGlzIG5vdCBiZWluZyBtb2RpZmllZCBieVxuICAgKiB0aGUgdHJhbnNhY3Rpb24uIFRoaXMgc3RydWN0dXJlIHNwZWNpZmllcyB0aGUgcHJpbWFyeSBrZXkgb2YgdGhlIGl0ZW0gdG8gYmUgY2hlY2tlZFxuICAgKiBhIGNvbmRpdGlvbiBleHByZXNzaW9uIHRoYXQgbXVzdCBiZSBzYXRpc2ZpZWQgZm9yIHRoZSB0cmFuc2FjdGlvbiB0byBzdWNjZWVkLCBhbmQgYVxuICAgKiBmaWVsZCBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gcmV0cmlldmUgdGhlIGl0ZW0ncyBhdHRyaWJ1dGVzIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAgICpcbiAgICogRHluYW1vREIgcmVqZWN0cyB0aGUgZW50aXJlIFRyYW5zYWN0V3JpdGVJdGVtcyByZXF1ZXN0IGlmIGFueSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gICAqICogQSBjb25kaXRpb24gaW4gb25lIG9mIHRoZSBjb25kaXRpb24gZXhwcmVzc2lvbnMgaXMgbm90IG1ldC5cbiAgICogKiBBbiBvbmdvaW5nIG9wZXJhdGlvbiBpcyBpbiB0aGUgcHJvY2VzcyBvZiB1cGRhdGluZyB0aGUgc2FtZSBpdGVtLlxuICAgKiAqIFRoZXJlIGlzIGluc3VmZmljaWVudCBwcm92aXNpb25lZCBjYXBhY2l0eSBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGJlIGNvbXBsZXRlZC5cbiAgICogKiBBbiBpdGVtIHNpemUgYmVjb21lcyB0b28gbGFyZ2UgKGJpZ2dlciB0aGFuICoqNDAwIEtCKiopLCBhIGxvY2FsIHNlY29uZGFyeSBpbmRleFxuICAgKiAoTFNJKSBiZWNvbWVzIHRvbyBsYXJnZSwgb3IgYSBzaW1pbGFyIHZhbGlkYXRpb24gZXJyb3Igb2NjdXJzIGJlY2F1c2Ugb2YgY2hhbmdlcyBtYWRlXG4gICAqIGJ5IHRoZSB0cmFuc2FjdGlvbi4gICBUXG4gICAqICogVGhlIGFnZ3JlZ2F0ZSBzaXplIG9mIHRoZSBpdGVtcyBpbiB0aGUgdHJhbnNhY3Rpb24gZXhjZWVkcyAqKjQgTUIqKi5cbiAgICogKiBUaGVyZSBpcyBhIHVzZXIgZXJyb3IsIHN1Y2ggYXMgYW4gaW52YWxpZCBkYXRhIGZvcm1hdC5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgVHJhbnNhY3RXcml0ZUl0ZW1zfVxuICAgKiBAc2VlIHtAbGluayBUcmFuc2FjdFdyaXRlSXRlbXNJbnB1dH1cbiAgICogQHNlZSB7QGxpbmsgVHJhbnNhY3RXcml0ZUl0ZW1zT3V0cHV0fVxuICAgKiBAc2VlIHtAbGluayBQdXR9XG4gICAqIEBzZWUge0BsaW5rIFVwZGF0ZX1cbiAgICogQHNlZSB7QGxpbmsgRGVsZXRlfVxuICAgKiBAc2VlIHtAbGluayBDb25kaXRpb25DaGVja31cbiAgICogQHNlZSBbQ29uZGl0aW9uIEV4cHJlc3Npb25zIERvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvZGV2ZWxvcGVyZ3VpZGUvRXhwcmVzc2lvbnMuQ29uZGl0aW9uRXhwcmVzc2lvbnMuaHRtbClcbiAgICogQHNlZSBbVHJhbnNhY3RXcml0ZUl0ZW1zIEFQSSBSZWZlcmVuY2VdKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvQVBJUmVmZXJlbmNlL0FQSV9UcmFuc2FjdFdyaXRlSXRlbXMuaHRtbClcbiAgICovXG4gIHJlYWRvbmx5IHRyYW5zYWN0V3JpdGU6IFRyYW5zYWN0V3JpdGVJdGVtczxcbiAgICBJdGVtLFxuICAgIFBhcnRpdGlvbktleSxcbiAgICBSYW5nZUtleSxcbiAgICBKc29uRm9ybWF0LkRvY3VtZW50XG4gID47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVBdHRyaWJ1dGVzQXBpPFxuICBJdGVtIGV4dGVuZHMgb2JqZWN0LFxuICBQYXJ0aXRpb25LZXkgZXh0ZW5kcyBrZXlvZiBJdGVtLFxuICBSYW5nZUtleSBleHRlbmRzIGtleW9mIEl0ZW0gfCB1bmRlZmluZWRcbj4gZXh0ZW5kcyBUYWJsZVJ1bnRpbWVBcGk8XG4gICAgSXRlbSxcbiAgICBQYXJ0aXRpb25LZXksXG4gICAgUmFuZ2VLZXksXG4gICAgSnNvbkZvcm1hdC5BdHRyaWJ1dGVWYWx1ZVxuICA+IHt9XG5cbi8qKlxuICogVGhlIFJ1bnRpbWUgQVBJIGZvciBhIER5bmFtb0RCIHtAbGluayBUYWJsZX0gdXNpbmcgdGhlIEF0dHJpYnV0ZSBWYWx1ZSBKU09OIGZvcm1hdC5cbiAqXG4gKiBAdHBhcmFtIHtAbGluayBJdGVtfSAtIHRoZSB0eXBlIG9mIGRhdGEgaW4gdGhlIER5bmFtb0RCIFRhYmxlXG4gKiBAdHBhcmFtIHtAbGluayBQYXJ0aXRpb25LZXl9IC0gdGhlIG5hbWUgb2YgdGhlIFBhcnRpdGlvbiBLZXkgZmllbGRcbiAqIEB0cGFyYW0ge0BsaW5rIFJhbmdlS2V5fSAtIHRoZSBuYW1lIG9mIHRoZSBSYW5nZSBLZXkgZmllbGQgaWYgc3BlY2lmaWVkLCBvdGhlcndpc2UgdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVBdHRyaWJ1dGVzQXBpPFxuICBJdGVtIGV4dGVuZHMgb2JqZWN0LFxuICBQYXJ0aXRpb25LZXkgZXh0ZW5kcyBrZXlvZiBJdGVtLFxuICBSYW5nZUtleSBleHRlbmRzIGtleW9mIEl0ZW0gfCB1bmRlZmluZWRcbj4ge1xuICAvKipcbiAgICogVGhlIGBnZXRgIG9wZXJhdGlvbiByZXR1cm5zIGEgc2V0IG9mIGF0dHJpYnV0ZXMgZm9yIHRoZSBpdGVtIHdpdGggdGhlIGdpdmVuXG4gICAqIHByaW1hcnkga2V5LiBJZiB0aGVyZSBpcyBubyBtYXRjaGluZyBpdGVtLCBgZ2V0YCBkb2VzIG5vdCByZXR1cm4gYW55IGRhdGFcbiAgICogYW5kIHRoZXJlIHdpbGwgYmUgbm8gYEl0ZW1gIGVsZW1lbnQgaW4gdGhlIHJlc3BvbnNlLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBkZWNsYXJlIGNvbnN0IHRhYmxlOiBUYWJsZTxJdGVtLCBcInBrXCI+XG4gICAqXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUuYXR0cmlidXRlcy5nZXQoe1xuICAgKiAgIEtleToge1xuICAgKiAgICAgcGs6IHtcbiAgICogICAgICAgUzogXCJrZXlcIlxuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqXG4gICAqIHJlc3BvbnNlLkl0ZW0/LnBrLlMgLy8gc3RyaW5nIHwgdW5kZWZpbmVkXG4gICAqIGBgYFxuICAgKlxuICAgKiBgZ2V0YCBwcm92aWRlcyBhbiBldmVudHVhbGx5IGNvbnNpc3RlbnQgcmVhZCBieSBkZWZhdWx0LiBJZiB5b3VyIGFwcGxpY2F0aW9uXG4gICAqIHJlcXVpcmVzIGEgc3Ryb25nbHkgY29uc2lzdGVudCByZWFkLCBzZXQgYENvbnNpc3RlbnRSZWFkYCB0byBgdHJ1ZWAuIEFsdGhvdWdoIGFcbiAgICogc3Ryb25nbHkgY29uc2lzdGVudCByZWFkIG1pZ2h0IHRha2UgbW9yZSB0aW1lIHRoYW4gYW4gZXZlbnR1YWxseSBjb25zaXN0ZW50XG4gICAqIHJlYWQsaXQgYWx3YXlzIHJldHVybnMgdGhlIGxhc3QgdXBkYXRlZCB2YWx1ZS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUuYXR0cmlidXRlcy5nZXQoe1xuICAgKiAgIEtleToge1xuICAgKiAgICAgcGs6IHtcbiAgICogICAgICAgUzogXCJrZXlcIlxuICAgKiAgICAgfVxuICAgKiAgIH0sXG4gICAqICAgQ29uc2lzdGVudFJlYWQ6IHRydWVcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvQVBJUmVmZXJlbmNlL0FQSV9HZXRJdGVtLmh0bWxcbiAgICogQHNlZSBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L0FQSVJlZmVyZW5jZS9BUElfQXR0cmlidXRlVmFsdWUuaHRtbFxuICAgKi9cbiAgcmVhZG9ubHkgZ2V0OiBHZXRJdGVtPFxuICAgIEl0ZW0sXG4gICAgUGFydGl0aW9uS2V5LFxuICAgIFJhbmdlS2V5LFxuICAgIEpzb25Gb3JtYXQuQXR0cmlidXRlVmFsdWVcbiAgPjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpdGVtLCBvciByZXBsYWNlcyBhbiBvbGQgaXRlbSB3aXRoIGEgbmV3IGl0ZW0uIElmIGFuIGl0ZW0gdGhhdFxuICAgKiBoYXMgdGhlIHNhbWUgcHJpbWFyeSBrZXkgYXMgdGhlIG5ldyBpdGVtIGFscmVhZHkgZXhpc3RzIGluIHRoZSBzcGVjaWZpZWQgdGFibGUsXG4gICAqIHRoZSBuZXcgaXRlbSBjb21wbGV0ZWx5IHJlcGxhY2VzIHRoZSBleGlzdGluZyBpdGVtLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnB1dCh7XG4gICAqICAgSXRlbTogbmV3SXRlbVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIFlvdSBjYW4gcGVyZm9ybSBhIGNvbmRpdGlvbmFsIHB1dCBvcGVyYXRpb24gKGFkZCBhIG5ldyBpdGVtIGlmIG9uZSB3aXRoIHRoZVxuICAgKiBzcGVjaWZpZWQgcHJpbWFyeSBrZXkgZG9lc24ndCBleGlzdCksIG9yIHJlcGxhY2UgYW4gZXhpc3RpbmcgaXRlbSBpZiBpdCBoYXMgY2VydGFpblxuICAgKiBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnB1dCh7XG4gICAqICAgSXRlbTogbmV3SXRlbSxcbiAgICogICBDb25kaXRpb25FeHByZXNzaW9uOiBcImF0dHJpYnV0ZSA9IHZhbHVlXCJcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBZb3UgY2FuIHJldHVybiB0aGUgaXRlbSdzIGF0dHJpYnV0ZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3BlcmF0aW9uLCB1c2luZyB0aGVcbiAgICoge0BsaW5rIFJldHVyblZhbHVlc30gcGFyYW1ldGVyLlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnB1dCh7XG4gICAqICAgSXRlbTogbmV3SXRlbSxcbiAgICogICBSZXR1cm5WYWx1ZXM6IFwiQUxMX09MRFwiXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogV2hlbiB5b3UgYWRkIGFuIGl0ZW0sIHRoZSBwcmltYXJ5IGtleSBhdHRyaWJ1dGVzIGFyZSB0aGUgb25seSByZXF1aXJlZCBhdHRyaWJ1dGVzLlxuICAgKiBBdHRyaWJ1dGUgdmFsdWVzIGNhbm5vdCBiZSBgbnVsbGAuIEVtcHR5IFN0cmluZyBhbmQgQmluYXJ5IGF0dHJpYnV0ZSB2YWx1ZXMgYXJlXG4gICAqIGFsbG93ZWQuIEF0dHJpYnV0ZSB2YWx1ZXMgb2YgdHlwZSBTdHJpbmcgYW5kIEJpbmFyeSBtdXN0IGhhdmUgYSBsZW5ndGggZ3JlYXRlciB0aGFuXG4gICAqIHplcm8gaWYgdGhlIGF0dHJpYnV0ZSBpcyB1c2VkIGFzIGEga2V5IGF0dHJpYnV0ZSBmb3IgYSB0YWJsZSBvciBpbmRleC4gU2V0IHR5cGVcbiAgICogYXR0cmlidXRlcyBjYW5ub3QgYmUgZW1wdHkuIEludmFsaWQgUmVxdWVzdHMgd2l0aCBlbXB0eSB2YWx1ZXMgd2lsbCBiZSByZWplY3RlZCB3aXRoXG4gICAqIGEgYFZhbGlkYXRpb25FeGNlcHRpb25gIGV4Y2VwdGlvbi5cbiAgICpcbiAgICogVG8gcHJldmVudCBhIG5ldyBpdGVtIGZyb20gcmVwbGFjaW5nIGFuIGV4aXN0aW5nIGl0ZW0sIHVzZSBhIGNvbmRpdGlvbmFsIGV4cHJlc3Npb25cbiAgICogdGhhdCBjb250YWlucyB0aGUgYGF0dHJpYnV0ZV9ub3RfZXhpc3RzYCBmdW5jdGlvbiB3aXRoIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgYmVpbmdcbiAgICogdXNlZCBhcyB0aGUgcGFydGl0aW9uIGtleSBmb3IgdGhlIHRhYmxlLiBTaW5jZSBldmVyeSByZWNvcmQgbXVzdCBjb250YWluIHRoYXQgYXR0cmlidXRlLFxuICAgKiB0aGUgYXR0cmlidXRlX25vdF9leGlzdHMgZnVuY3Rpb24gd2lsbCBvbmx5IHN1Y2NlZWQgaWYgbm8gbWF0Y2hpbmcgaXRlbSBleGlzdHMuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLmF0dHJpYnV0ZXMucHV0KHtcbiAgICogICBJdGVtOiBuZXdJdGVtLFxuICAgKiAgIC8vIGVuc3VyZSB0aGUgaXRlbSBkb2Vzbid0IGFscmVhZHkgZXhpc3RcbiAgICogICBDb25kaXRpb25FeHByZXNzaW9uOiBcImF0dHJpYnV0ZV9ub3RfZXhpc3RzKHBrKVwiXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHNlZSB7QGxpbmsgUHV0SXRlbX1cbiAgICogQHNlZSB7QGxpbmsgUHV0SXRlbUlucHV0fVxuICAgKiBAc2VlIHtAbGluayBQdXRJdGVtT3V0cHV0fVxuICAgKiBAc2VlIFtQdXRJdGVtIEFQSSBSZWZlcmVuY2VdKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvQVBJUmVmZXJlbmNlL0FQSV9QdXRJdGVtLmh0bWwpXG4gICAqIEBzZWUgW0NvbmRpdGlvbiBFeHByZXNzaW9ucyBEb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L2RldmVsb3Blcmd1aWRlL0V4cHJlc3Npb25zLkNvbmRpdGlvbkV4cHJlc3Npb25zLmh0bWwpXG4gICAqL1xuICByZWFkb25seSBwdXQ6IFB1dEl0ZW08SXRlbSwgSnNvbkZvcm1hdC5BdHRyaWJ1dGVWYWx1ZT47XG5cbiAgLyoqXG4gICAqIEVkaXRzIGFuIGV4aXN0aW5nIGl0ZW0ncyBhdHRyaWJ1dGVzLCBvciBhZGRzIGEgbmV3IGl0ZW0gdG8gdGhlIHRhYmxlIGlmIGl0IGRvZXMgbm90XG4gICAqIGFscmVhZHkgZXhpc3QuIFlvdSBjYW4gcHV0LCBkZWxldGUsIG9yIGFkZCBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnVwZGF0ZSh7XG4gICAqICAgS2V5OiBrZXksXG4gICAqICAgVXBkYXRlRXhwcmVzc2lvbjogXCJTRVQgYXR0cmlidXRlID0gPHZhbD5cIlxuICAgKiB9KVxuICAgKiBgYGBcbiAgICpcbiAgICogTm90IGFsbCBuYW1lcyBhbmQgdmFsdWVzIGFyZSBzdXBwb3J0ZWQgaW4gYW4gYFVwZGF0ZUV4cHJlc3Npb25gLCBzdWNoIGFzIHJlc2VydmVkXG4gICAqIHdvcmRzLCBrZXlzIHdpdGggY29tcGxleCBuYW1lcyBhbmQgY29tcGxleCB2YWx1ZXMuIFRvIGFsaWFzIG5hbWVzLCBzcGVjaWZ5IGl0IGluIHRoZVxuICAgKiBgRXhwcmVzc2lvbkF0dHJpYnV0ZU5hbWVzYCBtYXAgd2l0aCBhIG5hbWUgcHJlZml4ZWQgYnkgYSBgI2AuIFRoZW4sIHVzZSB0aGUgYWxpYXNcbiAgICogaW4geW91ciBgVXBkYXRlRXhwcmVzc2lvbmBcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUuYXR0cmlidXRlcy51cGRhdGUoe1xuICAgKiAgIEtleToga2V5LFxuICAgKiAgIFVwZGF0ZUV4cHJlc3Npb246IFwiU0VUICNhdHRyaWJ1dGUgPSA8dmFsPlwiLFxuICAgKiAgIEV4cHJlc3Npb25BdHRyaWJ1dGVOYW1lczoge1xuICAgKiAgICAgXCIjYXR0cmlidXRlXCI6IFwic3BlY2lhbCBuYW1lXCJcbiAgICogICB9XG4gICAqIH0pXG4gICAqIGBgYFxuICAgKlxuICAgKiBTaW1pbGFybHksIHRvIGFsaWFzIGEgdmFsdWUgZm9yIHVzZSBpbiBhbiBgVXBkYXRlRXhwcmVzc2lvbmAsIHByb3ZpZGUgIHZhbHVlIGluIHRoZVxuICAgKiBgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlc2AgbWFwIHByZWZpeGVkIHdpdGggYDpgLiBUaGVuLCB1c2UgdGhlIGFsaWFzIGluIHlvdXJcbiAgICogYFVwZGF0ZUV4cHJlc3Npb25gLlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnVwZGF0ZSh7XG4gICAqICAgS2V5OiBrZXksXG4gICAqICAgVXBkYXRlRXhwcmVzc2lvbjogXCJTRVQgYXR0cmlidXRlID0gOnZhbFwiLFxuICAgKiAgIEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXM6IHtcbiAgICogICAgIFwiOnZhbFwiOiBcIm15IHZhbHVlXCJcbiAgICogICB9XG4gICAqIH0pXG4gICAqIGBgYFxuICAgKlxuICAgKiBZb3UgY2FuIGFsc28gcGVyZm9ybSBhIGNvbmRpdGlvbmFsIHVwZGF0ZSBvbiBhbiBleGlzdGluZyBpdGVtIChpbnNlcnQgYSBuZXcgYXR0cmlidXRlXG4gICAqIG5hbWUtdmFsdWUgcGFpciBpZiBpdCBkb2Vzbid0IGV4aXN0LCBvciByZXBsYWNlIGFuIGV4aXN0aW5nIG5hbWUtdmFsdWUgcGFpciBpZiBpdCBoYXNcbiAgICogY2VydGFpbiBleHBlY3RlZCBhdHRyaWJ1dGUgdmFsdWVzKS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUuYXR0cmlidXRlcy51cGRhdGUoe1xuICAgKiAgIEtleToga2V5LFxuICAgKiAgIFVwZGF0ZUV4cHJlc3Npb246IFwiU0VUIGF0dHJpYnV0ZSA9IDxuZXctdmFsPlwiLFxuICAgKiAgIENvbmRpdGlvbkV4cHJlc3Npb246IFwiYXR0cmlidXRlID0gPG9sZC12YWw+XCJcbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIFlvdSBjYW4gYWxzbyByZXR1cm4gdGhlIGl0ZW0ncyBhdHRyaWJ1dGUgdmFsdWVzIGluIHRoZSBzYW1lIGB1cGRhdGVgIG9wZXJhdGlvbiB1c2luZ1xuICAgKiB0aGUge0BsaW5rIFJldHVyblZhbHVlc30gcGFyYW1ldGVyLlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRhYmxlLmF0dHJpYnV0ZXMudXBkYXRlKHtcbiAgICogICBLZXk6IGtleSxcbiAgICogICBVcGRhdGVFeHByZXNzaW9uOiBcIlNFVCBhdHRyaWJ1dGUgPSA8bmV3LXZhbD5cIixcbiAgICogICBSZXR1cm5WYWx1ZXM6IFwiQUxMX09MRFwiXG4gICAqIH0pO1xuICAgKlxuICAgKiByZXNwb25zZS5BdHRyaWJ1dGVzOyAvLyBhdHRyaWJ1dGVzIG9mIHRoZSBvbGQgaXRlbSAoaXRzIHN0YXRlIHByaW9yIHRvIHRoaXMgYHVwZGF0ZWAgcmVxdWVzdCkuXG4gICAqIGBgYFxuICAgKlxuICAgKiBAc2VlIHtAbGluayBVcGRhdGVJdGVtfVxuICAgKiBAc2VlIHtAbGluayBVcGRhdGVJdGVtSW5wdXR9XG4gICAqIEBzZWUge0BsaW5rIFVwZGF0ZUl0ZW1PdXRwdXR9XG4gICAqIEBzZWUgW1VwZGF0ZSBFeHByZXNzaW9ucyBEb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L2RldmVsb3Blcmd1aWRlL0V4cHJlc3Npb25zLlVwZGF0ZUV4cHJlc3Npb25zLmh0bWwpXG4gICAqIEBzZWUgW0NvbmRpdGlvbiBFeHByZXNzaW9ucyBEb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L2RldmVsb3Blcmd1aWRlL0V4cHJlc3Npb25zLkNvbmRpdGlvbkV4cHJlc3Npb25zLmh0bWwpXG4gICAqIEBzZWUgW1VwZGF0ZUl0ZW0gQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FtYXpvbmR5bmFtb2RiL2xhdGVzdC9BUElSZWZlcmVuY2UvQVBJX1VwZGF0ZUl0ZW0uaHRtbClcbiAgICovXG4gIHJlYWRvbmx5IHVwZGF0ZTogVXBkYXRlSXRlbTxcbiAgICBJdGVtLFxuICAgIFBhcnRpdGlvbktleSxcbiAgICBSYW5nZUtleSxcbiAgICBKc29uRm9ybWF0LkF0dHJpYnV0ZVZhbHVlXG4gID47XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSBzaW5nbGUgaXRlbSBpbiBhIHRhYmxlIGJ5IHByaW1hcnkga2V5LlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLmRlbGV0ZSh7XG4gICAqICAgS2V5OiB7XG4gICAqICAgICBwazoge1xuICAgKiAgICAgICBTOiBcInBhcnRpdGlvbiBrZXlcIlxuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBZb3UgY2FuIHBlcmZvcm0gYSBjb25kaXRpb25hbCBkZWxldGUgb3BlcmF0aW9uIHRoYXQgZGVsZXRlcyB0aGUgaXRlbSBpZiBpdCBoYXMgYW4gZXhwZWN0ZWRcbiAgICogYXR0cmlidXRlIHZhbHVlLlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLmRlbGV0ZSh7XG4gICAqICAgS2V5OiBrZXksXG4gICAqICAgQ29uZGl0aW9uRXhwcmVzc2lvbjogXCJhdHRyaWJ1dGUgPSA8dmFsPlwiXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogTm90IGFsbCBuYW1lcyBhbmQgdmFsdWVzIGFyZSBzdXBwb3J0ZWQgaW4gYSBgQ29uZGl0aW9uRXhwcmVzc2lvbmAsIHN1Y2ggYXMgcmVzZXJ2ZWRcbiAgICogd29yZHMsIGtleXMgd2l0aCBjb21wbGV4IG5hbWVzIGFuZCBjb21wbGV4IHZhbHVlcy4gVG8gYWxpYXMgbmFtZXMsIHNwZWNpZnkgaXQgaW4gdGhlXG4gICAqIGBFeHByZXNzaW9uQXR0cmlidXRlTmFtZXNgIG1hcCB3aXRoIGEgbmFtZSBwcmVmaXhlZCBieSBhIGAjYC4gVGhlbiwgdXNlIHRoZSBhbGlhc1xuICAgKiBpbiB5b3VyIGBDb25kaXRpb25FeHByZXNzaW9uYFxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLmRlbGV0ZSh7XG4gICAqICAgS2V5OiBrZXksXG4gICAqICAgQ29uZGl0aW9uRXhwcmVzc2lvbjogXCIkYXR0cmlidXRlID0gPHZhbD5cIixcbiAgICogICBFeHByZXNzaW9uQXR0cmlidXRlTmFtZXM6IHtcbiAgICogICAgIFwiI2F0dHJpYnV0ZVwiOiBcInNwZWNpYWwgbmFtZVwiXG4gICAqICAgfVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICpcbiAgICogU2ltaWxhcmx5LCB0byBhbGlhcyBhIHZhbHVlIGZvciB1c2UgaW4gYW4gYENvbmRpdGlvbkV4cHJlc3Npb25gLCBwcm92aWRlICB2YWx1ZSBpbiB0aGVcbiAgICogYEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXNgIG1hcCBwcmVmaXhlZCB3aXRoIGA6YC4gVGhlbiwgdXNlIHRoZSBhbGlhcyBpbiB5b3VyXG4gICAqIGBDb25kaXRpb25FeHByZXNzaW9uYC5cbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUuYXR0cmlidXRlcy5kZWxldGUoe1xuICAgKiAgIEtleToga2V5LFxuICAgKiAgIENvbmRpdGlvbkV4cHJlc3Npb246IFwiYXR0cmlidXRlID0gOnZhbFwiLFxuICAgKiAgIEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXM6IHtcbiAgICogICAgIFwiOnZhbFwiOiB7XG4gICAqICAgICAgIFM6IFwibXkgdmFsdWVcIlxuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIEluIGFkZGl0aW9uIHRvIGRlbGV0aW5nIGFuIGl0ZW0sIHlvdSBjYW4gYWxzbyByZXR1cm4gdGhlIGl0ZW0ncyBhdHRyaWJ1dGUgdmFsdWVzIGluIHRoZSBzYW1lXG4gICAqIG9wZXJhdGlvbiwgdXNpbmcgdGhlIGBSZXR1cm5WYWx1ZXNgIHBhcmFtZXRlci4gVW5sZXNzIHlvdSBzcGVjaWZ5IGNvbmRpdGlvbnMsIHRoZSBEZWxldGVJdGVtIGlzXG4gICAqIGFuIGlkZW1wb3RlbnQgb3BlcmF0aW9uOyBydW5uaW5nIGl0IG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGl0ZW0gb3IgYXR0cmlidXRlIGRvZXMgbm90XG4gICAqIHJlc3VsdCBpbiBhbiBlcnJvciByZXNwb25zZS4gQ29uZGl0aW9uYWwgZGVsZXRlcyBhcmUgdXNlZnVsIGZvciBkZWxldGluZyBpdGVtcyBvbmx5IGlmIHNwZWNpZmljXG4gICAqIGNvbmRpdGlvbnMgYXJlIG1ldC4gSWYgdGhvc2UgY29uZGl0aW9ucyBhcmUgbWV0LCBEeW5hbW9EQiBwZXJmb3JtcyB0aGUgZGVsZXRlLiBPdGhlcndpc2UsIHRoZVxuICAgKiBpdGVtIGlzIG5vdCBkZWxldGVkLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBEZWxldGVJdGVtfVxuICAgKiBAc2VlIHtAbGluayBEZWxldGVJdGVtSW5wdXR9XG4gICAqIEBzZWUge0BsaW5rIERlbGV0ZUl0ZW1PdXRwdXR9XG4gICAqIEBzZWUge0BsaW5rIERlbGV0ZUl0ZW1SZXR1cm5WYWx1ZXN9XG4gICAqIEBzZWUgW0NvbmRpdGlvbiBFeHByZXNzaW9ucyBEb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L2RldmVsb3Blcmd1aWRlL0V4cHJlc3Npb25zLkNvbmRpdGlvbkV4cHJlc3Npb25zLmh0bWwpXG4gICAqIEBzZWUgW0RlbGV0ZUl0ZW0gQVBJIFJlZmVyZW5jZV0oaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FtYXpvbmR5bmFtb2RiL2xhdGVzdC9BUElSZWZlcmVuY2UvQVBJX0RlbGV0ZUl0ZW0uaHRtbClcbiAgICovXG4gIHJlYWRvbmx5IGRlbGV0ZTogRGVsZXRlSXRlbTxcbiAgICBJdGVtLFxuICAgIFBhcnRpdGlvbktleSxcbiAgICBSYW5nZUtleSxcbiAgICBKc29uRm9ybWF0LkF0dHJpYnV0ZVZhbHVlXG4gID47XG5cbiAgLyoqXG4gICAqIGBxdWVyeWAgcmV0dXJucyBhbGwgaXRlbXMgdGhhdCBjb250YWluIGEgcGFydGl0aW9uIGtleSB2YWx1ZS4gVXNlIHRoZSBgS2V5Q29uZGl0aW9uRXhwcmVzc2lvbmBcbiAgICogcGFyYW1ldGVyIHRvIHByb3ZpZGUgYSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIHBhcnRpdGlvbiBrZXkuIFRoZSBgcXVlcnlgIG9wZXJhdGlvbiB3aWxsIHJldHVyblxuICAgKiBhbGwgb2YgdGhlIGl0ZW1zIGZyb20gdGhlIHRhYmxlIG9yIGluZGV4IHdpdGggdGhhdCBwYXJ0aXRpb24ga2V5IHZhbHVlLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnF1ZXJ5KHtcbiAgICogICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiBcInBrID0gOnBrXCIsXG4gICAqICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlczoge1xuICAgKiAgICAgXCI6cGtcIjoge1xuICAgKiAgICAgICBTOiBcInBhcnRpdGlvbiBrZXlcIlxuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIFlvdSBjYW4gb3B0aW9uYWxseSBuYXJyb3cgdGhlIHNjb3BlIG9mIHRoZSBgcXVlcnlgIG9wZXJhdGlvbiBieSBzcGVjaWZ5aW5nIGEgc29ydCBrZXkgdmFsdWVcbiAgICogYW5kIGEgY29tcGFyaXNvbiBvcGVyYXRvciBpbiBgS2V5Q29uZGl0aW9uRXhwcmVzc2lvbmAuXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLmF0dHJpYnV0ZXMucXVlcnkoe1xuICAgKiAgIEtleUNvbmRpdGlvbkV4cHJlc3Npb246IFwicGsgPSA6cGsgQU5EIHN0YXJ0c193aXRoKHNrLCA6cHJlZml4KVwiLFxuICAgKiAgIEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXM6IHtcbiAgICogICAgIFwiOnBrXCI6IHsgUzogXCJwYXJ0aXRpb24ga2V5XCIgfSxcbiAgICogICAgIFwiOnByZWZpeFwiOiB7IFM6IFwicHJlZml4XCIgfVxuICAgKiAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIFRvIGZ1cnRoZXIgcmVmaW5lIHRoZSBgcXVlcnlgIHJlc3VsdHMsIHlvdSBjYW4gb3B0aW9uYWxseSBwcm92aWRlIGEgYEZpbHRlckV4cHJlc3Npb25gLiBBIGBGaWx0ZXJFeHByZXNzaW9uYFxuICAgKiBkZXRlcm1pbmVzIHdoaWNoIGl0ZW1zIHdpdGhpbiB0aGUgcmVzdWx0cyBzaG91bGQgYmUgcmV0dXJuZWQgdG8geW91LiBBbGwgb2YgdGhlIG90aGVyIHJlc3VsdHMgYXJlXG4gICAqIGRpc2NhcmRlZC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUuYXR0cmlidXRlcy5xdWVyeSh7XG4gICAqICAgS2V5Q29uZGl0aW9uRXhwcmVzc2lvbjogXCJwayA9IDpwayBBTkQgc3RhcnRzX3dpdGgoc2ssIDpwcmVmaXgpXCIsXG4gICAqICAgRmlsdGVyRXhwcmVzc2lvbjogXCJmaWVsZCA8IDBcIlxuICAgKiAgIC4uXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogYFF1ZXJ5YCByZXN1bHRzIGFyZSBhbHdheXMgc29ydGVkIGJ5IHRoZSBzb3J0IGtleSB2YWx1ZS4gSWYgdGhlIGRhdGEgdHlwZSBvZiB0aGUgc29ydCBrZXkgaXMgYE51bWJlcmAsIHRoZVxuICAgKiByZXN1bHRzIGFyZSByZXR1cm5lZCBpbiBudW1lcmljIG9yZGVyOyBvdGhlcndpc2UsIHRoZSByZXN1bHRzIGFyZSByZXR1cm5lZCBpbiBvcmRlciBvZiBVVEYtOCBieXRlcy4gQnlcbiAgICogZGVmYXVsdCwgdGhlIHNvcnQgb3JkZXIgaXMgYXNjZW5kaW5nLiBUbyByZXZlcnNlIHRoZSBvcmRlciwgc2V0IHRoZSBgU2NhbkluZGV4Rm9yd2FyZGAgcGFyYW1ldGVyIHRvIGZhbHNlLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnF1ZXJ5KHtcbiAgICogICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiBcInBrID0gOnBrXCIsXG4gICAqICAgLy8gcXVlcnkgaW4gcmV2ZXJzZS1vcmRlclxuICAgKiAgIFNjYW5JbmRleEZvcndhcmQ6IGZhbHNlXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQSBzaW5nbGUgYFF1ZXJ5YCBvcGVyYXRpb24gd2lsbCByZWFkIHVwIHRvIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyBzZXQgKGlmIHVzaW5nIHRoZSBgTGltaXRgIHBhcmFtZXRlcilcbiAgICogb3IgYSBtYXhpbXVtIG9mICoqMSBNQioqIG9mIGRhdGEgYW5kIHRoZW4gYXBwbHkgYW55IGZpbHRlcmluZyB0byB0aGUgcmVzdWx0cyB1c2luZyBgRmlsdGVyRXhwcmVzc2lvbmAuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGF3YWl0IHRhYmxlLmF0dHJpYnV0ZXMucXVlcnkoe1xuICAgKiAgIC4uLFxuICAgKiAgIExpbWl0OiAxMFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIElmIGBMYXN0RXZhbHVhdGVkS2V5YCBpcyBwcmVzZW50IGluIHRoZSByZXNwb25zZSwgeW91IHdpbGwgbmVlZCB0byBwYWdpbmF0ZSB0aGUgcmVzdWx0IHNldCBieVxuICAgKiBzZXR0aW5nIHRoZSBgRXhjbHVzaXZlU3RhcnRLZXlgIGluIHN1YnNlcXVlbnQgcmVxdWVzdHMuXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IEtleUNvbmRpdGlvbkV4cHJlc3Npb246IHN0cmluZyA9IC4uXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUuYXR0cmlidXRlcy5xdWVyeSh7XG4gICAqICAgS2V5Q29uZGl0aW9uRXhwcmVzc2lvblxuICAgKiB9KTtcbiAgICogaWYgKHJlc3BvbnNlLkxhc3RFdmFsdWF0ZWRLZXkpIHtcbiAgICogICBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnF1ZXJ5KHtcbiAgICogICAgIC8vIHRoZSBLZXlDb25kaXRpb25FeHByZXNzaW9uIG11c3QgYmUgdGhlIHNhbWUgYWNyb3NzIHF1ZXJ5IHJlcXVlc3RzXG4gICAqICAgICBLZXlDb25kaXRpb25FeHByZXNzaW9uLFxuICAgKiAgICAgLy8gdXNlIHRoZSBMYXN0RXZhbHVhdGVkS2V5IGFzIHRoZSBzdGFydGluZyBwb2ludFxuICAgKiAgICAgRXhjbHVzaXZlU3RhcnRLZXk6IHJlc3BvbnNlLkxhc3RFdmFsdWF0ZWRLZXlcbiAgICogICB9KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogYEZpbHRlckV4cHJlc3Npb25gIGlzIGFwcGxpZWQgYWZ0ZXIgYSBgUXVlcnlgIGZpbmlzaGVzLCBidXQgYmVmb3JlIHRoZSByZXN1bHRzIGFyZSByZXR1cm5lZC5cbiAgICogQSBgRmlsdGVyRXhwcmVzc2lvbmAgY2Fubm90IGNvbnRhaW4gcGFydGl0aW9uIGtleSBvciBzb3J0IGtleSBhdHRyaWJ1dGVzLiBZb3UgbmVlZCB0byBzcGVjaWZ5XG4gICAqIHRob3NlIGF0dHJpYnV0ZXMgaW4gdGhlIGBLZXlDb25kaXRpb25FeHByZXNzaW9uYC5cbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLnF1ZXJ5KHtcbiAgICogICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiAuLixcbiAgICogICBGaWx0ZXJFeHByZXNzaW9uOiBcIiNmaWVsZCA9IDp2YWxcIlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEEgYFF1ZXJ5YCBvcGVyYXRpb24gY2FuIHJldHVybiBhbiBlbXB0eSByZXN1bHQgc2V0IGFuZCBhIGBMYXN0RXZhbHVhdGVkS2V5YCBpZiBhbGwgdGhlIGl0ZW1zXG4gICAqIHJlYWQgZm9yIHRoZSBwYWdlIG9mIHJlc3VsdHMgYXJlIGZpbHRlcmVkIG91dC5cbiAgICpcbiAgICogWW91IGNhbiBxdWVyeSBhIHRhYmxlLCBhIGxvY2FsIHNlY29uZGFyeSBpbmRleCwgb3IgYSBnbG9iYWwgc2Vjb25kYXJ5IGluZGV4LiBGb3IgYSBxdWVyeSBvbiBhIHRhYmxlIG9yIG9uXG4gICAqIGEgbG9jYWwgc2Vjb25kYXJ5IGluZGV4LCB5b3UgY2FuIHNldCB0aGUgYENvbnNpc3RlbnRSZWFkYCBwYXJhbWV0ZXIgdG8gdHJ1ZSBhbmQgb2J0YWluIGEgc3Ryb25nbHkgY29uc2lzdGVudFxuICAgKiByZXN1bHQuIEdsb2JhbCBzZWNvbmRhcnkgaW5kZXhlcyBzdXBwb3J0IGV2ZW50dWFsbHkgY29uc2lzdGVudCByZWFkcyBvbmx5LCBzbyBkbyBub3Qgc3BlY2lmeSBgQ29uc2lzdGVudFJlYWRgXG4gICAqIHdoZW4gcXVlcnlpbmcgYSBnbG9iYWwgc2Vjb25kYXJ5IGluZGV4LlxuICAgKlxuICAgKiBBIGBxdWVyeWAgb3BlcmF0aW9uIGFsd2F5cyByZXR1cm5zIGEgcmVzdWx0IHNldC4gSWYgbm8gbWF0Y2hpbmcgaXRlbXMgYXJlIGZvdW5kLCB0aGUgcmVzdWx0IHNldCB3aWxsIGJlXG4gICAqIGVtcHR5LiBRdWVyaWVzIHRoYXQgZG8gbm90IHJldHVybiByZXN1bHRzIGNvbnN1bWUgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHJlYWQgY2FwYWNpdHkgdW5pdHMgZm9yIHRoYXRcbiAgICogdHlwZSBvZiByZWFkIG9wZXJhdGlvbi4gRHluYW1vREIgY2FsY3VsYXRlcyB0aGUgbnVtYmVyIG9mIHJlYWQgY2FwYWNpdHkgdW5pdHMgY29uc3VtZWQgYmFzZWQgb24gaXRlbVxuICAgKiBzaXplLCBub3Qgb24gdGhlIGFtb3VudCBvZiBkYXRhIHRoYXQgaXMgcmV0dXJuZWQgdG8gYW4gYXBwbGljYXRpb24uIFRoZSBudW1iZXIgb2YgY2FwYWNpdHkgdW5pdHMgY29uc3VtZWRcbiAgICogd2lsbCBiZSB0aGUgc2FtZSB3aGV0aGVyIHlvdSByZXF1ZXN0IGFsbCBvZiB0aGUgYXR0cmlidXRlcyAodGhlIGRlZmF1bHQgYmVoYXZpb3IpIG9yIGp1c3Qgc29tZSBvZlxuICAgKiB0aGVtICh1c2luZyBhIHByb2plY3Rpb24gZXhwcmVzc2lvbikuIFRoZSBudW1iZXIgd2lsbCBhbHNvIGJlIHRoZSBzYW1lIHdoZXRoZXIgb3Igbm90IHlvdSB1c2UgYVxuICAgKiBgRmlsdGVyRXhwcmVzc2lvbmAuXG4gICAqL1xuICByZWFkb25seSBxdWVyeTogUXVlcnk8XG4gICAgSXRlbSxcbiAgICBQYXJ0aXRpb25LZXksXG4gICAgUmFuZ2VLZXksXG4gICAgSnNvbkZvcm1hdC5BdHRyaWJ1dGVWYWx1ZVxuICA+O1xuXG4gIC8qKlxuICAgKiBUaGUgYHNjYW5gIG9wZXJhdGlvbiByZXR1cm5zIG9uZSBvciBtb3JlIGl0ZW1zIGFuZCBpdGVtIGF0dHJpYnV0ZXMgYnkgYWNjZXNzaW5nIGV2ZXJ5IGl0ZW0gaW5cbiAgICogdGFibGUgb3IgYSBzZWNvbmRhcnkgaW5kZXguXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUuc2NhbigpO1xuICAgKlxuICAgKiByZXNwb25zZS5JdGVtcz8uZm9yRWFjaChpdGVtID0+IC4uKTtcbiAgICogYGBgXG4gICAqXG4gICAqIFRvIGhhdmUgRHluYW1vREIgcmV0dXJuIGZld2VyIGl0ZW1zLCB5b3UgY2FuIHByb3ZpZGUgYSBgRmlsdGVyRXhwcmVzc2lvbmAgb3BlcmF0aW9uLlxuICAgKiBgYGB0c1xuICAgKiBhd2FpdCB0YWJsZS5zY2FuKHtcbiAgICogICBGaWx0ZXJFeHByZXNzaW9uOiBcIiNmaWVsZCA9IDp2YWxcIlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIElmIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2Nhbm5lZCBpdGVtcyBleGNlZWRzIHRoZSBtYXhpbXVtIGRhdGFzZXQgc2l6ZSBsaW1pdCBvZiAqKjEgTUIqKixcbiAgICogdGhlIHNjYW4gc3RvcHMgYW5kIHJlc3VsdHMgYXJlIHJldHVybmVkIHRvIHRoZSB1c2VyIGFsb25nIHdpdGggYSBgTGFzdEV2YWx1YXRlZEtleWAgdmFsdWUgdG9cbiAgICogY29udGludWUgdGhlIHNjYW4gaW4gYSBzdWJzZXF1ZW50IG9wZXJhdGlvbi4gVGhlIHJlc3VsdHMgYWxzbyBpbmNsdWRlIHRoZSBudW1iZXIgb2ZcbiAgICogaXRlbXMgZXhjZWVkaW5nIHRoZSBsaW1pdC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWJsZS5zY2FuKCk7XG4gICAqXG4gICAqIGlmIChyZXNwb25zZS5MYXN0RXZhbHVhdGVkS2V5KSB7XG4gICAqICAgYXdhaXQgdGFibGUuc2Nhbih7XG4gICAqICAgICBFeGNsdXNpdmVTdGFydEtleTogcmVzcG9uc2UuTGFzdEV2YWx1YXRlZEtleVxuICAgKiAgIH0pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBBIHNpbmdsZSBgc2NhbmAgb3BlcmF0aW9uIHJlYWRzIHVwIHRvIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyBzZXQgKGlmIHVzaW5nIHRoZSBMaW1pdFxuICAgKiBwYXJhbWV0ZXIpIG9yIGEgbWF4aW11bSBvZiAxIE1CIG9mIGRhdGEgYW5kIHRoZW4gYXBwbHkgYW55IGZpbHRlcmluZyB0byB0aGUgcmVzdWx0cyB1c2luZ1xuICAgKiBgRmlsdGVyRXhwcmVzc2lvbmAuIElmIGBMYXN0RXZhbHVhdGVkS2V5YCBpcyBwcmVzZW50IGluIHRoZSByZXNwb25zZSwgeW91IG5lZWQgdG8gcGFnaW5hdGUgdGhlXG4gICAqIHJlc3VsdCBzZXQuXG4gICAqXG4gICAqIGBzY2FuYCBvcGVyYXRpb25zIHByb2NlZWQgc2VxdWVudGlhbGx5OyBob3dldmVyLCBmb3IgZmFzdGVyIHBlcmZvcm1hbmNlIG9uIGEgbGFyZ2UgdGFibGUgb3JcbiAgICogc2Vjb25kYXJ5IGluZGV4LCBhcHBsaWNhdGlvbnMgY2FuIHJlcXVlc3QgYSBwYXJhbGxlbCBgc2NhbmAgb3BlcmF0aW9uIGJ5IHByb3ZpZGluZyB0aGUgYFNlZ21lbnRgXG4gICAqIGFuZCBgVG90YWxTZWdtZW50c2AgcGFyYW1ldGVycy5cbiAgICpcbiAgICogYHNjYW5gIHVzZXMgZXZlbnR1YWxseSBjb25zaXN0ZW50IHJlYWRzIHdoZW4gYWNjZXNzaW5nIHRoZSBkYXRhIGluIGEgdGFibGU7IHRoZXJlZm9yZSwgdGhlIHJlc3VsdFxuICAgKiBzZXQgbWlnaHQgbm90IGluY2x1ZGUgdGhlIGNoYW5nZXMgdG8gZGF0YSBpbiB0aGUgdGFibGUgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBvcGVyYXRpb24gYmVnYW4uXG4gICAqIElmIHlvdSBuZWVkIGEgY29uc2lzdGVudCBjb3B5IG9mIHRoZSBkYXRhLCBhcyBvZiB0aGUgdGltZSB0aGF0IHRoZSBgc2NhbmAgYmVnaW5zLCB5b3UgY2FuIHNldCB0aGVcbiAgICogYENvbnNpc3RlbnRSZWFkYCBwYXJhbWV0ZXIgdG8gdHJ1ZS5cbiAgICovXG4gIHJlYWRvbmx5IHNjYW46IFNjYW48SXRlbSwgUGFydGl0aW9uS2V5LCBSYW5nZUtleSwgSnNvbkZvcm1hdC5BdHRyaWJ1dGVWYWx1ZT47XG5cbiAgLyoqXG4gICAqIFRoZSBgYmF0Y2hHZXRgIG9wZXJhdGlvbiByZXR1cm5zIGEgbGlzdCBvZiBpdGVtcyBmb3IgZWFjaCBvZiB0aGUgZ2l2ZW4gcHJpbWFyeVxuICAgKiBrZXlzLiBJZiB0aGVyZSBhcmUgbm8gbWF0Y2hpbmcgaXRlbXMsIGJvdGggdGhlIGBJdGVtc2AgYW5kIGBVbnByb2Nlc3NlZEtleXNgIHByb3BlcnRpZXNcbiAgICogd2lsbCBiZSBlbXB0eSBpbiB0aGUgcmVzcG9uc2UuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUuYXR0cmlidXRlcy5iYXRjaEdldCh7XG4gICAqICAgS2V5czogW1xuICAgKiAgICAge1xuICAgKiAgICAgICBwazogeyBTOiBcInBrXCIgfSxcbiAgICogICAgICAgc2s6IHsgUzogXCJza1wiIH0sXG4gICAqICAgICB9LFxuICAgKiAgICAge1xuICAgKiAgICAgICAuLlxuICAgKiAgICAgfVxuICAgKiAgIF0sXG4gICAqIH0pO1xuICAgKlxuICAgKiByZXNwb25zZS5JdGVtczsgLy8gQXJyYXk8eyBwazogeyBTOiBzdHJpbmcgfSwgc2s6IHsgUzogc3RyaW5nIH0sIC4uIH0+XG4gICAqIGBgYFxuICAgKlxuICAgKiBBIHJlcXVlc3QgY2FuIGhhdmUgcGFydGlhbCBmYWlsdXJlcyB3aGVyZSBzb21lIG9mIHRoZSByZXF1ZXN0ZWQga2V5cyBhcmUgbm90XG4gICAqIHJldHJpZXZlZCBzdWNjZXNzZnVsbHkuIFRoZSBmYWlsZWQga2V5cyBhcmUgYXZhaWxhYmxlIG9uIHRoZSBgVW5wcm9jZXNzZWRLZXlzYFxuICAgKiBwcm9wZXJ0eSBhbmQgc2hvdWxkIGJlIHJldHJpZWQgYnkgdGhlIGNhbGxlci5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLmJhdGNoR2V0KHsgLi4gfSlcbiAgICpcbiAgICogaWYgKHJlc3BvbnNlLlVucHJvY2Vzc2VkS2V5cykge1xuICAgKiAgIC8vIHJldHJ5IHRoZSBmYWlsZWQga2V5c1xuICAgKiAgIGNvbnN0IHJldHJ5UmVzcG9uc2UgPSBhd2FpdCB0YWJsZS5hdHRyaWJ1dGVzLmJhdGNoR2V0KHtcbiAgICogICAgIEtleXM6IHJlc3BvbnNlLlVucHJvY2Vzc2VkS2V5c1xuICAgKiAgIH0pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvQVBJUmVmZXJlbmNlL0FQSV9CYXRjaEdldEl0ZW0uaHRtbFxuICAgKi9cbiAgcmVhZG9ubHkgYmF0Y2hHZXQ6IEJhdGNoR2V0SXRlbTxcbiAgICBJdGVtLFxuICAgIFBhcnRpdGlvbktleSxcbiAgICBSYW5nZUtleSxcbiAgICBKc29uRm9ybWF0LkF0dHJpYnV0ZVZhbHVlXG4gID47XG5cbiAgLyoqXG4gICAqIFRoZSBgYmF0Y2hXcml0ZWAgb3BlcmF0aW9uIHB1dHMgb3IgZGVsZXRlcyBtdWx0aXBsZSBpdGVtcyBpbiBvbmUgb3IgbW9yZSB0YWJsZXMuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGxldCBiYXRjaFdyaXRlID0gYXdhaXQgdGFibGUuYmF0Y2hXcml0ZSh7XG4gICAqICAgUmVxdWVzdEl0ZW1zOiBbXG4gICAqICAgICB7XG4gICAqICAgICAgIERlbGV0ZVJlcXVlc3Q6IHtcbiAgICogICAgICAgICBLZXk6IHtcbiAgICogICAgICAgICAgIHBrOiB7IFM6IFwicGFydGl0aW9uIGtleSAxXCIgfSxcbiAgICogICAgICAgICB9LFxuICAgKiAgICAgICB9LFxuICAgKiAgICAgfSxcbiAgICogICAgIHtcbiAgICogICAgICAgUHV0UmVxdWVzdDoge1xuICAgKiAgICAgICAgIEl0ZW06IHtcbiAgICogICAgICAgICAgIHBrOiB7IFM6IFwicGFydGl0aW9uIGtleSAyXCIgfSxcbiAgICogICAgICAgICAgIC4uIC8vIHJlc3Qgb2YgdGhlIGl0ZW1cbiAgICogICAgICAgICB9LFxuICAgKiAgICAgICB9LFxuICAgKiAgICAgfSxcbiAgICogICBdLFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEEgc2luZ2xlIGNhbGwgdG8gYGJhdGNoV3JpdGVgIGNhbiB0cmFuc21pdCB1cCB0byAxNk1CIG9mIGRhdGEgb3ZlciB0aGUgbmV0d29yaywgY29uc2lzdGluZ1xuICAgKiBvZiB1cCB0byAyNSBpdGVtIHB1dCBvciBkZWxldGUgb3BlcmF0aW9ucy4gV2hpbGUgaW5kaXZpZHVhbCBpdGVtcyBjYW4gYmUgdXAgdG8gNDAwIEtCIG9uY2Ugc3RvcmVkLFxuICAgKiBpdCdzIGltcG9ydGFudCB0byBub3RlIHRoYXQgYW4gaXRlbSdzIHJlcHJlc2VudGF0aW9uIG1pZ2h0IGJlIGdyZWF0ZXIgdGhhbiA0MDBLQiB3aGlsZSBiZWluZ1xuICAgKiBzZW50IGluIER5bmFtb0RCJ3MgSlNPTiBmb3JtYXQgZm9yIHRoZSBBUEkgY2FsbC4gRm9yIG1vcmUgZGV0YWlscyBvbiB0aGlzIGRpc3RpbmN0aW9uLCBzZWVcbiAgICogW05hbWluZyBSdWxlcyBhbmQgRGF0YSBUeXBlc10oaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FtYXpvbmR5bmFtb2RiL2xhdGVzdC9kZXZlbG9wZXJndWlkZS9Ib3dJdFdvcmtzLk5hbWluZ1J1bGVzRGF0YVR5cGVzLmh0bWwpLlxuICAgKlxuICAgKiBgYmF0Y2hXcml0ZWAgY2Fubm90IHVwZGF0ZSBpdGVtcy4gVG8gdXBkYXRlIGl0ZW1zLCB1c2UgdGhlIHtAbGluayB1cGRhdGV9IGFjdGlvbi5cbiAgICpcbiAgICogVGhlIGluZGl2aWR1YWwge0BsaW5rIHB1dH0gYW5kIHtAbGluayBkZWxldGV9IG9wZXJhdGlvbnMgc3BlY2lmaWVkIGluIGBiYXRjaFdyaXRlYCBhcmUgYXRvbWljO1xuICAgKiBob3dldmVyIGBiYXRjaFdyaXRlYCBhcyBhIHdob2xlIGlzIG5vdC4gSWYgYW55IHJlcXVlc3RlZCBvcGVyYXRpb25zIGZhaWwgYmVjYXVzZSB0aGUgdGFibGUnc1xuICAgKiBwcm92aXNpb25lZCB0aHJvdWdocHV0IGlzIGV4Y2VlZGVkIG9yIGFuIGludGVybmFsIHByb2Nlc3NpbmcgZmFpbHVyZSBvY2N1cnMsIHRoZSBmYWlsZWRcbiAgICogb3BlcmF0aW9ucyBhcmUgcmV0dXJuZWQgaW4gdGhlIGBVbnByb2Nlc3NlZEl0ZW1zYCByZXNwb25zZSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUuYmF0Y2hXcml0ZSguLik7XG4gICAqXG4gICAqIHJlc3BvbnNlLlVucHJvY2Vzc2VkSXRlbXM7IC8vIGl0ZW1zIHRoYXQgZmFpbGVkIHRvIHByb2Nlc3Mgd2lsbCBiZSBhdmFpbGFibGUgaGVyZVxuICAgKiBgYGBcbiAgICpcbiAgICpcbiAgICogWW91IGNhbiBpbnZlc3RpZ2F0ZSBhbmQgb3B0aW9uYWxseSByZXNlbmQgdGhlIHJlcXVlc3RzLiBUeXBpY2FsbHksIHlvdSB3b3VsZCBjYWxsIGBiYXRjaFdyaXRlYFxuICAgKiBpbiBhIGxvb3AuIEVhY2ggaXRlcmF0aW9uIHdvdWxkIGNoZWNrIGZvciB1bnByb2Nlc3NlZCBpdGVtcyBhbmQgc3VibWl0IGEgbmV3IGBiYXRjaFdyaXRlYFxuICAgKiByZXF1ZXN0IHdpdGggdGhvc2UgdW5wcm9jZXNzZWQgaXRlbXMgdW50aWwgYWxsIGl0ZW1zIGhhdmUgYmVlbiBwcm9jZXNzZWQuXG4gICAqIGBgYHRzXG4gICAqIGxldCB3cml0ZUl0ZW1zO1xuICAgKiBkbyB7XG4gICAqICAgd3JpdGVJdGVtcyA9IGF3YWl0IHRhYmxlLmJhdGNoV3JpdGUoLi4pO1xuICAgKiB9IHdoaWxlICh3cml0ZUl0ZW1zPy5VbnByb2Nlc3NlZEl0ZW1zPy5sZW5ndGgpO1xuICAgKiBgYGBcbiAgICpcbiAgICogSWYgbm9uZSBvZiB0aGUgaXRlbXMgY2FuIGJlIHByb2Nlc3NlZCBkdWUgdG8gaW5zdWZmaWNpZW50IHByb3Zpc2lvbmVkIHRocm91Z2hwdXRcbiAgICogb24gYWxsIG9mIHRoZSB0YWJsZXMgaW4gdGhlIHJlcXVlc3QsIHRoZW4gYGJhdGNoV3JpdGVgIHRocm93cyBhIGBQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvbmAuXG4gICAqIGBgYHRzXG4gICAqIHRyeSB7XG4gICAqICAgYXdhaXQgdGFibGUuYmF0Y2hXcml0ZSguLik7XG4gICAqIH0gY2F0Y2ggKGVycikge1xuICAgKiAgIGlmIChlcnIuY29kZSA9PT0gXCJQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvblwiKSB7XG4gICAqICAgICAvLyBoYW5kbGVcbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEhvd2V2ZXIsIHdlIHN0cm9uZ2x5IHJlY29tbWVuZCB0aGF0IHlvdSB1c2UgYW4gZXhwb25lbnRpYWwgYmFja29mZiBhbGdvcml0aG0uIElmIHlvdSByZXRyeSB0aGVcbiAgICogYmF0Y2ggb3BlcmF0aW9uIGltbWVkaWF0ZWx5LCB0aGUgdW5kZXJseWluZyByZWFkIG9yIHdyaXRlIHJlcXVlc3RzIGNhbiBzdGlsbCBmYWlsIGR1ZSB0b1xuICAgKiB0aHJvdHRsaW5nIG9uIHRoZSBpbmRpdmlkdWFsIHRhYmxlcy4gSWYgeW91IGRlbGF5IHRoZSBiYXRjaCBvcGVyYXRpb24gdXNpbmcgZXhwb25lbnRpYWwgYmFja29mZixcbiAgICogdGhlIGluZGl2aWR1YWwgcmVxdWVzdHMgaW4gdGhlIGJhdGNoIGFyZSBtdWNoIG1vcmUgbGlrZWx5IHRvIHN1Y2NlZWQuIEZvciBtb3JlIGluZm9ybWF0aW9uLFxuICAgKiBzZWUgW0JhdGNoIE9wZXJhdGlvbnMgYW5kIEVycm9yIEhhbmRsaW5nXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L2RldmVsb3Blcmd1aWRlL1Byb2dyYW1taW5nLkVycm9ycy5odG1sI1Byb2dyYW1taW5nLkVycm9ycy5CYXRjaE9wZXJhdGlvbnMpLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBsZXQgd3JpdGVJdGVtcztcbiAgICogbGV0IGJhY2tvZmYgPSAxMDA7XG4gICAqIGxldCBtYXhSZXRyaWVzID0gMTA7XG4gICAqIGxldCBhdHRlbXB0ID0gMDtcbiAgICogd2hpbGUgKGF0dGVtcHQgPCBtYXhSZXRyaWVzKSB7XG4gICAqICAgd3JpdGVJdGVtcyA9IGF3YWl0IHRhYmxlLmJhdGNoV3JpdGUoLi4pO1xuICAgKiAgIGlmICghd3JpdGVJdGVtcy5VbnByb2Nlc3NlZEl0ZW1zPy5sZW5ndGgpIHtcbiAgICogICAgIGJyZWFrO1xuICAgKiAgIH1cbiAgICogICBhdHRlbXB0ICs9IDE7XG4gICAqICAgaWYgKGF0dGVtcHQgPiBtYXhSZXRyaWVzKSB7XG4gICAqICAgICAvLyBkb24ndCByZXRyeSBmb3JldmVyLCBmYWlsIGFmdGVyIHNvIG1hbnkgYXR0ZW1wdHNcbiAgICogICAgIHRocm93IG5ldyBFcnJvcihcImZhaWxlZFwiKTtcbiAgICogICB9XG4gICAqICAgLy8gc2xlZXAgZm9yIHNvbWUgdGltZSBiZWZvcmUgdHJ5aW5nIGFnYWluXG4gICAqICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgYmFja29mZik7XG4gICAqICAgYmFja29mZiAqPSAyOyAvLyBleHBvbmVudGlhbGx5IGluY3JlYXNlcyBiYWNrb2ZmXG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIFdpdGggYGJhdGNoV3JpdGVgLCB5b3UgY2FuIGVmZmljaWVudGx5IHdyaXRlIG9yIGRlbGV0ZSBsYXJnZSBhbW91bnRzIG9mIGRhdGEsIHN1Y2ggYXMgZnJvbSBBbWF6b24gRU1SLFxuICAgKiBvciBjb3B5IGRhdGEgZnJvbSBhbm90aGVyIGRhdGFiYXNlIGludG8gRHluYW1vREIuIEluIG9yZGVyIHRvIGltcHJvdmUgcGVyZm9ybWFuY2Ugd2l0aCB0aGVzZSBsYXJnZS1zY2FsZVxuICAgKiBvcGVyYXRpb25zLCBgYmF0Y2hXcml0ZWAgZG9lcyBub3QgYmVoYXZlIGluIHRoZSBzYW1lIHdheSBhcyBpbmRpdmlkdWFsIHtAbGluayBwdXR9IGFuZCB7QGxpbmsgZGVsZXRlfSBjYWxsc1xuICAgKiB3b3VsZC4gRm9yIGV4YW1wbGUsIHlvdSBjYW5ub3Qgc3BlY2lmeSBjb25kaXRpb25zIG9uIGluZGl2aWR1YWwgcHV0IGFuZCBkZWxldGUgcmVxdWVzdHMsIGFuZFxuICAgKiBgYmF0Y2hXcml0ZWAgZG9lcyBub3QgcmV0dXJuIGRlbGV0ZWQgaXRlbXMgaW4gdGhlIHJlc3BvbnNlLiBgYmF0Y2hXcml0ZWAgcGVyZm9ybXMgdGhlIHNwZWNpZmllZCBwdXRcbiAgICogYW5kIGRlbGV0ZSBvcGVyYXRpb25zIGluIHBhcmFsbGVsLCBnaXZpbmcgeW91IHRoZSBwb3dlciBvZiB0aGUgdGhyZWFkIHBvb2wgYXBwcm9hY2ggd2l0aG91dCBoYXZpbmcgdG9cbiAgICogaW50cm9kdWNlIGNvbXBsZXhpdHkgaW50byB5b3VyIGFwcGxpY2F0aW9uLiBQYXJhbGxlbCBwcm9jZXNzaW5nIHJlZHVjZXMgbGF0ZW5jeSwgYnV0IGVhY2ggc3BlY2lmaWVkIHB1dFxuICAgKiBhbmQgZGVsZXRlIHJlcXVlc3QgY29uc3VtZXMgdGhlIHNhbWUgbnVtYmVyIG9mIHdyaXRlIGNhcGFjaXR5IHVuaXRzIHdoZXRoZXIgaXQgaXMgcHJvY2Vzc2VkIGluIHBhcmFsbGVsXG4gICAqIG9yIG5vdC4gRGVsZXRlIG9wZXJhdGlvbnMgb24gbm9uZXhpc3RlbnQgaXRlbXMgY29uc3VtZSBvbmUgd3JpdGUgY2FwYWNpdHkgdW5pdC5cbiAgICpcbiAgICogSWYgb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlLCBEeW5hbW9EQiByZWplY3RzIHRoZSBlbnRpcmUgYmF0Y2ggd3JpdGUgb3BlcmF0aW9uOlxuICAgKiAqIE9uZSBvciBtb3JlIHRhYmxlcyBzcGVjaWZpZWQgaW4gdGhlIGBiYXRjaFdyaXRlYCByZXF1ZXN0IGRvZXMgbm90IGV4aXN0LlxuICAgKiAqIFByaW1hcnkga2V5IGF0dHJpYnV0ZXMgc3BlY2lmaWVkIG9uIGFuIGl0ZW0gaW4gdGhlIHJlcXVlc3QgZG8gbm90IG1hdGNoIHRob3NlIGluIHRoZSBjb3JyZXNwb25kaW5nIHRhYmxlJ3MgcHJpbWFyeSBrZXkgc2NoZW1hLlxuICAgKiAqIFlvdSB0cnkgdG8gcGVyZm9ybSBtdWx0aXBsZSBvcGVyYXRpb25zIG9uIHRoZSBzYW1lIGl0ZW0gaW4gdGhlIHNhbWUgYGJhdGNoV3JpdGVgIHJlcXVlc3QuIEZvciBleGFtcGxlLCB5b3UgY2Fubm90IHB1dCBhbmQgZGVsZXRlIHRoZSBzYW1lIGl0ZW1cbiAgICogaW4gdGhlIHNhbWUgYGJhdGNoV3JpdGVgIHJlcXVlc3QuXG4gICAqICogWW91ciByZXF1ZXN0IGNvbnRhaW5zIGF0IGxlYXN0IHR3byBpdGVtcyB3aXRoIGlkZW50aWNhbCBoYXNoIGFuZCByYW5nZSBrZXlzICh3aGljaCBlc3NlbnRpYWxseSBpcyB0d28gcHV0IG9wZXJhdGlvbnMpLlxuICAgKiAqIFRoZXJlIGFyZSBtb3JlIHRoYW4gMjUgcmVxdWVzdHMgaW4gdGhlIGJhdGNoLlxuICAgKiAqIEFueSBpbmRpdmlkdWFsIGl0ZW0gaW4gYSBiYXRjaCBleGNlZWRzIDQwMCBLQi4gVGhlIHRvdGFsIHJlcXVlc3Qgc2l6ZSBleGNlZWRzIDE2IE1CLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBEZWxldGVSZXF1ZXN0fVxuICAgKiBAc2VlIHtAbGluayBQdXRSZXF1ZXN0fVxuICAgKiBAc2VlIHtAbGluayBCYXRjaFdyaXRlSXRlbX1cbiAgICogQHNlZSBbQmF0Y2hXcml0ZUl0ZW0gQVBJXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L0FQSVJlZmVyZW5jZS9BUElfQmF0Y2hXcml0ZUl0ZW0uaHRtbClcbiAgICovXG4gIHJlYWRvbmx5IGJhdGNoV3JpdGU6IEJhdGNoV3JpdGVJdGVtPFxuICAgIEl0ZW0sXG4gICAgUGFydGl0aW9uS2V5LFxuICAgIFJhbmdlS2V5LFxuICAgIEpzb25Gb3JtYXQuQXR0cmlidXRlVmFsdWVcbiAgPjtcblxuICAvKipcbiAgICogYHRyYW5zYWN0R2V0YCBpcyBhIHN5bmNocm9ub3VzIG9wZXJhdGlvbiB0aGF0IGF0b21pY2FsbHkgcmV0cmlldmVzIG11bHRpcGxlIGl0ZW1zXG4gICAqIGZyb20gYSB0YWJsZS4gQSBgdHJhbnNhY3RHZXRgIGNhbGwgY2FuIGNvbnRhaW4gdXAgdG8gYDI1YCB7QGxpbmsgVHJhbnNhY3RHZXRJdGVtfSBvYmplY3RzLFxuICAgKiBlYWNoIG9mIHdoaWNoIGNvbnRhaW5zIGEge0BsaW5rIEdldH0gc3RydWN0dXJlIHRoYXQgc3BlY2lmaWVzIGFuIGl0ZW0gdG8gcmV0cmlldmUgZnJvbSB0aGVcbiAgICogdGFibGUuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGFibGUudHJhbnNhY3RHZXQoe1xuICAgKiAgIFRyYW5zYWN0SXRlbXM6IFtcbiAgICogICAgIHtcbiAgICogICAgICAgR2V0OiB7XG4gICAqICAgICAgICAgS2V5OiB7XG4gICAqICAgICAgICAgICBwazogeyBTOiBcInBhcnRpdGlvbiBrZXlcIiB9LFxuICAgKiAgICAgICAgICAgc2s6IHsgUzogXCJzb3J0IGtleVwiIH0sXG4gICAqICAgICAgICAgfSxcbiAgICogICAgICAgfSxcbiAgICogICAgIH0sXG4gICAqICAgICAuLi5cbiAgICogICBdLFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIFVubGlrZSB0aGUge0BsaW5rIGJhdGNoR2V0fSBvcGVyYXRpb24gd2hlcmUgc29tZSByZXF1ZXN0ZWQga2V5cyBjYW4gZmFpbCwgYHRyYW5zYWN0R2V0YFxuICAgKiBlbnN1cmVzIHRoYXQgYWxsIChvciBub25lKSB7QGxpbmsgR2V0fSByZXF1ZXN0cyBhcmUgc3VjY2Vzc2Z1bGx5IHJldHJpZXZlZCAtIGkuZS4gdGhlXG4gICAqIHdob2xlIG9wZXJhdGlvbiBoYXBwZW5zIHdpdGhpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbi4gVGhpcyBjb21lcyB3aXRoIHRoZSBhZGRlZCBjb3N0IG9mXG4gICAqIGVhY2gge0BsaW5rIEdldH0gcmVxdWVzdCBjb25zdW1pbmcgMiBSZWFkIENhcGFjaXR5IFVuaXRzLlxuICAgKlxuICAgKiBUaGUgYWdncmVnYXRlIHNpemUgb2YgdGhlIGl0ZW1zIGluIHRoZSB0cmFuc2FjdGlvbiBjYW5ub3QgZXhjZWVkICoqNCBNQioqLiBEeW5hbW9EQiByZWplY3RzXG4gICAqIHRoZSBlbnRpcmUgYHRyYW5zYWN0R2V0YCByZXF1ZXN0IGlmIGFueSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gICAqICogQSBjb25mbGljdGluZyBvcGVyYXRpb24gaXMgaW4gdGhlIHByb2Nlc3Mgb2YgdXBkYXRpbmcgYW4gaXRlbSB0byBiZSByZWFkLlxuICAgKiAqIFRoZXJlIGlzIGluc3VmZmljaWVudCBwcm92aXNpb25lZCBjYXBhY2l0eSBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGJlIGNvbXBsZXRlZC5cbiAgICogKiBUaGVyZSBpcyBhIHVzZXIgZXJyb3IsIHN1Y2ggYXMgYW4gaW52YWxpZCBkYXRhIGZvcm1hdC5cbiAgICogKiBUaGUgYWdncmVnYXRlIHNpemUgb2YgdGhlIGl0ZW1zIGluIHRoZSB0cmFuc2FjdGlvbiBjYW5ub3QgZXhjZWVkIDQgTUIuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIFRyYW5zYWN0R2V0SXRlbXN9XG4gICAqIEBzZWUge0BsaW5rIFRyYW5zYWN0R2V0SXRlbXNJbnB1dH1cbiAgICogQHNlZSB7QGxpbmsgVHJhbnNhY3RHZXRJdGVtc091dHB1dH1cbiAgICogQHNlZSB7QGxpbmsgR2V0fVxuICAgKiBAc2VlIFtUcmFuc2FjdEdldEl0ZW1zIEFQSSBSZWZlcmVuY2VdKGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9hbWF6b25keW5hbW9kYi9sYXRlc3QvQVBJUmVmZXJlbmNlL0FQSV9UcmFuc2FjdEdldEl0ZW1zLmh0bWwpXG4gICAqL1xuICByZWFkb25seSB0cmFuc2FjdEdldDogVHJhbnNhY3RHZXRJdGVtczxcbiAgICBJdGVtLFxuICAgIFBhcnRpdGlvbktleSxcbiAgICBSYW5nZUtleSxcbiAgICBKc29uRm9ybWF0LkF0dHJpYnV0ZVZhbHVlXG4gID47XG5cbiAgLyoqXG4gICAqIFRyYW5zYWN0V3JpdGVJdGVtcyBpcyBhIHN5bmNocm9ub3VzIHdyaXRlIG9wZXJhdGlvbiB0aGF0IGdyb3VwcyB1cCB0byAqKjI1KiogYWN0aW9uXG4gICAqIHJlcXVlc3RzLiBObyB0d28gYWN0aW9ucyBjYW4gdGFyZ2V0IHRoZSBzYW1lIGl0ZW0uIEZvciBleGFtcGxlLCB5b3UgY2Fubm90IGJvdGhcbiAgICoge0BsaW5rIENvbmRpdGlvbkNoZWNrfSBhbmQge0BsaW5rIFVwZGF0ZX0gdGhlIHNhbWUgaXRlbS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogYXdhaXQgdGFibGUudHJhbnNhY3RXcml0ZSh7XG4gICAqICAgVHJhbnNhY3RJdGVtczogW1xuICAgKiAgICAge1xuICAgKiAgICAgICBQdXQ6IHtcbiAgICogICAgICAgICBJdGVtOiBpdGVtMSxcbiAgICogICAgICAgfSxcbiAgICogICAgIH0sXG4gICAqICAgICB7XG4gICAqICAgICAgIFVwZGF0ZToge1xuICAgKiAgICAgICAgIEtleToga2V5MSxcbiAgICogICAgICAgICBVcGRhdGVFeHByZXNzaW9uOiBcIlNFVCAuLlwiXG4gICAqICAgICAgIH0sXG4gICAqICAgICB9LFxuICAgKiAgICAge1xuICAgKiAgICAgICBEZWxldGU6IHtcbiAgICogICAgICAgICBLZXk6IGtleTJcbiAgICogICAgICAgfVxuICAgKiAgICAgfSxcbiAgICogICAgIHtcbiAgICogICAgICAgQ29uZGl0aW9uQ2hlY2s6IHtcbiAgICogICAgICAgICBLZXk6IGtleTMsXG4gICAqICAgICAgICAgQ29uZGl0aW9uRXhwcmVzc2lvbjogXCIuLlwiXG4gICAqICAgICAgIH1cbiAgICogICAgIH1cbiAgICogICBdLFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIFVubGlrZSB7QGxpbmsgYmF0Y2hXcml0ZX0sIHRoZSBhY3Rpb25zIGFyZSBjb21wbGV0ZWQgYXRvbWljYWxseSBzbyB0aGF0IGVpdGhlciBhbGxcbiAgICogb2YgdGhlbSBzdWNjZWVkLCBvciBhbGwgb2YgdGhlbSBmYWlsLiBTdXBwb3J0ZWQgYWN0aW9ucyBpbmNsdWRlOlxuICAgKiAqIHtAbGluayBQdXR9wqDigJQgSW5pdGlhdGVzIGEgYFB1dEl0ZW1gIG9wZXJhdGlvbiB0byB3cml0ZSBhIG5ldyBpdGVtLiBUaGlzIHN0cnVjdHVyZVxuICAgKiBzcGVjaWZpZXMgdGhlIHByaW1hcnkga2V5IG9mIHRoZSBpdGVtIHRvIGJlIHdyaXR0ZW4sIGFuIG9wdGlvbmFsIGNvbmRpdGlvbiBleHByZXNzaW9uXG4gICAqIHRoYXQgbXVzdCBiZSBzYXRpc2ZpZWQgZm9yIHRoZSB3cml0ZSB0byBzdWNjZWVkLCBhIGxpc3Qgb2YgdGhlIGl0ZW0ncyBhdHRyaWJ1dGVzLCBhbmRcbiAgICogYSBmaWVsZCBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gcmV0cmlldmUgdGhlIGl0ZW0ncyBhdHRyaWJ1dGVzIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAgICogKiB7QGxpbmsgVXBkYXRlfSDigJQgSW5pdGlhdGVzIGFuIFVwZGF0ZUl0ZW0gb3BlcmF0aW9uIHRvIHVwZGF0ZSBhbiBleGlzdGluZyBpdGVtLiBUaGlzXG4gICAqIHN0cnVjdHVyZSBzcGVjaWZpZXMgdGhlIHByaW1hcnkga2V5IG9mIHRoZSBpdGVtIHRvIGJlIHVwZGF0ZWQsIGFuIG9wdGlvbmFsIGNvbmRpdGlvblxuICAgKiBleHByZXNzaW9uIHRoYXQgbXVzdCBiZSBzYXRpc2ZpZWQgZm9yIHRoZSB1cGRhdGUgdG8gc3VjY2VlZCwgYW4gZXhwcmVzc2lvbiB0aGF0IGRlZmluZXNcbiAgICogb25lIG9yIG1vcmUgYXR0cmlidXRlcyB0byBiZSB1cGRhdGVkLCBhbmQgYSBmaWVsZCBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gcmV0cmlldmUgdGhlXG4gICAqIGl0ZW0ncyBhdHRyaWJ1dGVzIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAgICogKiB7QGxpbmsgRGVsZXRlfSDigJQgSW5pdGlhdGVzIGEgRGVsZXRlSXRlbSBvcGVyYXRpb24gdG8gZGVsZXRlIGFuIGV4aXN0aW5nIGl0ZW0uIFRoaXNcbiAgICogc3RydWN0dXJlIHNwZWNpZmllcyB0aGUgcHJpbWFyeSBrZXkgb2YgdGhlIGl0ZW0gdG8gYmUgZGVsZXRlZCwgYW4gb3B0aW9uYWwgY29uZGl0aW9uXG4gICAqIGV4cHJlc3Npb24gdGhhdCBtdXN0IGJlIHNhdGlzZmllZCBmb3IgdGhlIGRlbGV0aW9uIHRvIHN1Y2NlZWQsIGFuZCBhIGZpZWxkIGluZGljYXRpbmdcbiAgICogd2hldGhlciB0byByZXRyaWV2ZSB0aGUgaXRlbSdzIGF0dHJpYnV0ZXMgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICAgKiB7QGxpbmsgQ29uZGl0aW9uQ2hlY2t9IOKAlCBBcHBsaWVzIGEgY29uZGl0aW9uIHRvIGFuIGl0ZW0gdGhhdCBpcyBub3QgYmVpbmcgbW9kaWZpZWQgYnlcbiAgICogdGhlIHRyYW5zYWN0aW9uLiBUaGlzIHN0cnVjdHVyZSBzcGVjaWZpZXMgdGhlIHByaW1hcnkga2V5IG9mIHRoZSBpdGVtIHRvIGJlIGNoZWNrZWRcbiAgICogYSBjb25kaXRpb24gZXhwcmVzc2lvbiB0aGF0IG11c3QgYmUgc2F0aXNmaWVkIGZvciB0aGUgdHJhbnNhY3Rpb24gdG8gc3VjY2VlZCwgYW5kIGFcbiAgICogZmllbGQgaW5kaWNhdGluZyB3aGV0aGVyIHRvIHJldHJpZXZlIHRoZSBpdGVtJ3MgYXR0cmlidXRlcyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gICAqXG4gICAqIER5bmFtb0RCIHJlamVjdHMgdGhlIGVudGlyZSBUcmFuc2FjdFdyaXRlSXRlbXMgcmVxdWVzdCBpZiBhbnkgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgKiAqIEEgY29uZGl0aW9uIGluIG9uZSBvZiB0aGUgY29uZGl0aW9uIGV4cHJlc3Npb25zIGlzIG5vdCBtZXQuXG4gICAqICogQW4gb25nb2luZyBvcGVyYXRpb24gaXMgaW4gdGhlIHByb2Nlc3Mgb2YgdXBkYXRpbmcgdGhlIHNhbWUgaXRlbS5cbiAgICogKiBUaGVyZSBpcyBpbnN1ZmZpY2llbnQgcHJvdmlzaW9uZWQgY2FwYWNpdHkgZm9yIHRoZSB0cmFuc2FjdGlvbiB0byBiZSBjb21wbGV0ZWQuXG4gICAqICogQW4gaXRlbSBzaXplIGJlY29tZXMgdG9vIGxhcmdlIChiaWdnZXIgdGhhbiAqKjQwMCBLQioqKSwgYSBsb2NhbCBzZWNvbmRhcnkgaW5kZXhcbiAgICogKExTSSkgYmVjb21lcyB0b28gbGFyZ2UsIG9yIGEgc2ltaWxhciB2YWxpZGF0aW9uIGVycm9yIG9jY3VycyBiZWNhdXNlIG9mIGNoYW5nZXMgbWFkZVxuICAgKiBieSB0aGUgdHJhbnNhY3Rpb24uICAgVFxuICAgKiAqIFRoZSBhZ2dyZWdhdGUgc2l6ZSBvZiB0aGUgaXRlbXMgaW4gdGhlIHRyYW5zYWN0aW9uIGV4Y2VlZHMgKio0IE1CKiouXG4gICAqICogVGhlcmUgaXMgYSB1c2VyIGVycm9yLCBzdWNoIGFzIGFuIGludmFsaWQgZGF0YSBmb3JtYXQuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIFRyYW5zYWN0V3JpdGVJdGVtc31cbiAgICogQHNlZSB7QGxpbmsgVHJhbnNhY3RXcml0ZUl0ZW1zSW5wdXR9XG4gICAqIEBzZWUge0BsaW5rIFRyYW5zYWN0V3JpdGVJdGVtc091dHB1dH1cbiAgICogQHNlZSB7QGxpbmsgUHV0fVxuICAgKiBAc2VlIHtAbGluayBVcGRhdGV9XG4gICAqIEBzZWUge0BsaW5rIERlbGV0ZX1cbiAgICogQHNlZSB7QGxpbmsgQ29uZGl0aW9uQ2hlY2t9XG4gICAqIEBzZWUgW0NvbmRpdGlvbiBFeHByZXNzaW9ucyBEb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L2RldmVsb3Blcmd1aWRlL0V4cHJlc3Npb25zLkNvbmRpdGlvbkV4cHJlc3Npb25zLmh0bWwpXG4gICAqIEBzZWUgW1RyYW5zYWN0V3JpdGVJdGVtcyBBUEkgUmVmZXJlbmNlXShodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L0FQSVJlZmVyZW5jZS9BUElfVHJhbnNhY3RXcml0ZUl0ZW1zLmh0bWwpXG4gICAqL1xuICByZWFkb25seSB0cmFuc2FjdFdyaXRlOiBUcmFuc2FjdFdyaXRlSXRlbXM8XG4gICAgSXRlbSxcbiAgICBQYXJ0aXRpb25LZXksXG4gICAgUmFuZ2VLZXksXG4gICAgSnNvbkZvcm1hdC5BdHRyaWJ1dGVWYWx1ZVxuICA+O1xufVxuIl19